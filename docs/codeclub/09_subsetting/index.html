<!DOCTYPE html><html lang="en-us" >

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.0.0-beta.3 for Hugo" />
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Jelmer Poelstra" />

  
  
  
    
  
  <meta name="description" content="In this session of Code Club, we&#39;ll move below and beyond the tidyverse to get an overview of subsetting various kinds of data structure in R." />

  
  <link rel="alternate" hreflang="en-us" href="https://biodash.github.io/codeclub/09_subsetting/" />

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#3f51b5" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">

    
    

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.80f9a276c6100914c616a06e45ba8d09.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-9F9CQ7P0DX"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-9F9CQ7P0DX', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/index.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_32x32_fill_lanczos_center_2.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_180x180_fill_lanczos_center_2.png" />

  <link rel="canonical" href="https://biodash.github.io/codeclub/09_subsetting/" />

  
  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary" />
  
  <meta property="og:site_name" content="BioDASH" />
  <meta property="og:url" content="https://biodash.github.io/codeclub/09_subsetting/" />
  <meta property="og:title" content="Session 9: Subsetting | BioDASH" />
  <meta property="og:description" content="In this session of Code Club, we&#39;ll move below and beyond the tidyverse to get an overview of subsetting various kinds of data structure in R." /><meta property="og:image" content="https://biodash.github.io/media/logo_hu6407506e646a281542ecb299640680ce_37988_300x300_fit_lanczos_2.png" />
    <meta property="twitter:image" content="https://biodash.github.io/media/logo_hu6407506e646a281542ecb299640680ce_37988_300x300_fit_lanczos_2.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2021-02-10T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2021-02-12T12:55:28-05:00">
  

  



  

  

  <link rel='stylesheet' href='/css/highlight-light.css' title='hl-light'>
<link rel='stylesheet' href='/css/highlight-dark.css' title='hl-dark' disabled>



  <title>Session 9: Subsetting | BioDASH</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="1f0acc316d61e12ddf0b12b66dfb0a7c" >

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7a224883d792570fd34d30c7134eace3.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Code Club</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/codeclub-schedule/"><span>- <b>Schedule</b></span></a>
            
              <a class="dropdown-item" href="/codeclub/"><span>- Past Sessions</span></a>
            
              <a class="dropdown-item" href="/codeclub-setup/"><span>- Computer Setup</span></a>
            
              <a class="dropdown-item" href="/"><span>------------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-suggest/"><span>- Suggest a Topic</span></a>
            
              <a class="dropdown-item" href="/codeclub-present/"><span>- Info for Presenters</span></a>
            
              <a class="dropdown-item" href="/"><span>-----------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-about/"><span>- <b>About Code Club & Join Us!</b></span></a>
            
          </div>
        </li>

        
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Tutorials & Resources</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/events/"><span>Events</span></a>
            
              <a class="dropdown-item" href="/"><span>---------------------</span></a>
            
              <a class="dropdown-item" href="/tutorials/r-resources-tips/"><span>- R Resources and Tips</span></a>
            
              <a class="dropdown-item" href="/"><span>--------------------</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/2020-12-microbiomics-workshop/"><span>- Metabarcoding workshop (Fall '20)</span></a>
            
              <a class="dropdown-item" href="/tutorials/2021-01_rnaseq/"><span>- RNA-seq intro meetings (Spring '21)</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/pracs-sp21/"><span>- Computing Course (Spring '21)</span></a>
            
          </div>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/support/"><span>Bioinformatics Support</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="https://github.com/biodash/biodash.github.io" target="_blank" rel="noopener"><i class='fab fa-github'></i><span></span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/index.xml" target="_blank" rel="noopener"><i class='fas fa-rss'></i><span></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      
        
      
        
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      
      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    
<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="d-none d-xl-block col-xl-2 docs-toc">
            <ul class="nav toc-top">
                <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
            </ul>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#new-to-code-club">New To Code Club?</a></li>
    <li><a href="#session-goals">Session Goals</a></li>
    <li><a href="#intro-what-is-subsetting-anyway">Intro: What is &lsquo;subsetting&rsquo; anyway?</a></li>
    <li><a href="#vectors">Vectors</a></li>
    <li><a href="#matrices">Matrices</a></li>
    <li><a href="#lists">Lists</a></li>
    <li><a href="#data-frames">Data frames</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#exercise-1">Exercise 1</a></li>
    <li><a href="#exercise-2">Exercise 2</a></li>
    <li><a href="#exercise-3">Exercise 3</a></li>
    <li><a href="#exercise-4">Exercise 4</a></li>
  </ul>
</nav>
        </div>
        <main class="col-12 col-md-0 col-xl-10 py-md-3 pl-md-5 docs-content" role="main">
            

            <article class="article">

                












  

  
  
  
<div class="article-container pt-3">
  <h1>Session 9: Subsetting</h1>

  
  <p class="page-subtitle">Overview of subsetting data structures in R.</p>
  

  
    



<div class="article-metadata">

  
  
  
  
  <div>
    

  <span >
      <a href="/authors/michael-broe/">Michael Broe</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
    Feb 12, 2021
  </span>
  

  

  

  
  
  
  
  

  
  

</div>

    





  
</div>



                <div class="article-container">
                    <div class="article-style">
                        <figure>
<p align="center">
<img src="shaker.png" width="35%">
<figcaption>
Image from <a href="https://r4ds.had.co.nz" class="uri">https://r4ds.had.co.nz</a>
</figcaption>
</p>
</figure>
<br>
<hr>
<h2 id="new-to-code-club">New To Code Club?</h2>
<ul>
<li>
<p>First, check out the <a href="/codeclub-setup/">Code Club Computer Setup</a> instructions, which also has some pointers that might be helpful if you&rsquo;re new to R or RStudio.</p>
</li>
<li>
<p>Please open RStudio before Code Club to test things out &ndash; if you run into issues, join the Zoom call early and we&rsquo;ll troubleshoot.</p>
</li>
</ul>
<hr>
<h2 id="session-goals">Session Goals</h2>
<ul>
<li>Learn the uses of R&rsquo;s three basic subsetting operators: <code>[ ]</code>, <code>[[ ]]</code>, and <a href="https://rdrr.io/r/base/Extract.html" target="_blank" rel="noopener"><code>$</code></a>.</li>
<li>Learn how the behavior of these operators varies depending on the <strong>data structure</strong> you are subsetting (vector, matrix, list, or data frame).</li>
<li>Prepare to learn how these resemble, and differ from, subsetting operators in Python.</li>
</ul>
<hr>
<h2 id="intro-what-is-subsetting-anyway">Intro: What is &lsquo;subsetting&rsquo; anyway?</h2>
<p>Subsetting (also known as indexing) is simply a formal way of pulling out specific pieces of a data structure. We&rsquo;ve already seen two <strong>dplyr</strong> verbs that perform this kind of operation for tibbles: <code>filter</code> (to pull out specific rows) and <code>select</code> (to pull out specific columns).</p>
<p>But these are tidyverse commands, and only work with tibbles. R has two more-basic data structures, vectors and lists, and for these we need different subsetting operators. We&rsquo;ll also see that matrices are simply a special kind of vector, that data frames are a special kind of list, and basic subsetting operators also work for these.</p>
<p>Since the behavior of these operators depends on the actual data structure you are working with, it&rsquo;s useful when experimenting to use them in conjunction with the <a href="https://rdrr.io/r/utils/str.html" target="_blank" rel="noopener"><code>str()</code></a> function, which compactly displays the internal structure of an arbitrary R object. A knowledge of the make-up of these data structures is also important when you come to write your own loops, iterations, and functions.</p>
<p>The most important distinction between vectors and lists is that vectors are <strong>homogeneous</strong>, while lists can be <strong>heterogeneous</strong>.</p>
<div class="alert alert-note">
<div>
<p><em>Terminological note</em>: &lsquo;under-the-hood&rsquo; both of these are vectors in the technical sense, and sometimes the distinction is referred to as <strong>atomic vectors</strong> versus <strong>recursive vectors</strong>. I&rsquo;ll continue to use just &lsquo;vector&rsquo; and &lsquo;list&rsquo; here. This usage also lines-up with Python.</p>
</div>
</div>
<br>
<hr>
<h2 id="vectors">Vectors</h2>
<p>A vector is absolutely the most basic data structure in R. Every value in a vector must be of the <strong>same type</strong>. Strikingly, this sets R apart from Python. Using this kind of vector in Python requires loading a whole separate package: <code>numpy</code>. The most basic data structure in Python is the list.</p>
<p>There are four basic types of vector: integer, double, character, and logical. Vectors are created by hand with the <a href="https://rdrr.io/r/base/c.html" target="_blank" rel="noopener"><code>c()</code></a> (combine, concatenate) function. We can check the type with the <a href="https://rdrr.io/r/base/typeof.html" target="_blank" rel="noopener"><code>typeof()</code></a> operator. This is totally redundant if you just created the vector yourself, but when you are debugging code or creating a vector using an expression you might want to check exactly what type of vector is being used:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_dbl</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>2</span>, <span class='m'>3</span>, <span class='m'>4</span>, <span class='m'>5</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_dbl</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "double"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_int</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1L</span>, <span class='m'>2L</span>, <span class='m'>3L</span>, <span class='m'>4L</span>, <span class='m'>5L</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_int</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "integer"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_which</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>10</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_which</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "integer"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_which2</span> <span class='o'>&lt;-</span> <span class='m'>1</span><span class='o'>:</span><span class='m'>10</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_which2</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "integer"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_log</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='kc'>TRUE</span>, <span class='kc'>TRUE</span>, <span class='kc'>FALSE</span>, <span class='kc'>TRUE</span>, <span class='kc'>FALSE</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_log</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "logical"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>vec_chr</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"a"</span>, <span class='s'>"b"</span>, <span class='s'>"c"</span>, <span class='s'>"d"</span>, <span class='s'>"e"</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>vec_chr</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "character"</span>
</code></pre>
</div>
<p>What happens when we perform a basic mathematical operation on a vector?</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='m'>2</span> <span class='o'>*</span> <span class='nv'>vec_int</span>

<span class='c'>#&gt; [1]  2  4  6  8 10</span>
</code></pre>
</div>
<p>(This is <em>completely different</em> than what you obtain when multiplying a Python list).</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="mi">2</span> <span class="o">*</span> <span class="n">L</span>
<span class="c1"># [1, 2, 3, 4, 5, 1, 2, 3, 4, 5]</span>
</code></pre></div><p>So it&rsquo;s not just that vectors are a basic R data structure, but R is a <strong>vectorised language</strong>. In many cases applying an operation to a vector automagically applies the operation to every element in the vector. This means that for many basic operations <code>for</code> loops and mapping functions, necessary in Python, are not needed in R (although if you write your own functions you will need these iteration tools). In Python we could use a &lsquo;list comprehension&rsquo; (a compact and fast version of a <code>for</code> loop):</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">]</span>
<span class="c1"># [2, 4, 6, 8, 10]</span>
</code></pre></div><p>Or install the <code>numpy</code> package that makes vectors and vectorized functions available.</p>
<p>Vectors have an insanely simple structure:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>vec_dbl</span><span class='o'>)</span>

<span class='c'>#&gt;  num [1:5] 1 2 3 4 5</span>
</code></pre>
</div>
<p><a href="https://rdrr.io/r/utils/str.html" target="_blank" rel="noopener"><code>str()</code></a> also displays the type, and RStudio displays the result of <a href="https://rdrr.io/r/utils/str.html" target="_blank" rel="noopener"><code>str()</code></a> in the Values pane.</p>
<p>For such a simple structure, there are a surprisingly large number of ways to subset a vector. We&rsquo;ll use the following example:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>2.1</span>, <span class='m'>4.2</span>, <span class='m'>3.3</span>, <span class='m'>5.4</span><span class='o'>)</span>
</code></pre>
</div>
<p>(Notice that the number after the decimal point indicates the position (index) of the element of the vector.)</p>
<p><strong>Positive integers</strong> return elements at the specified positions. Any expression that evaluates to a vector of positive integers can be used as the index. The index operator is <code>[]</code>:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span><span class='o'>[</span><span class='m'>3</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 3.3</span>

<span class='nv'>x</span><span class='o'>[</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>3</span>, <span class='m'>1</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 3.3 2.1</span>

<span class='nv'>x</span><span class='o'>[</span><span class='m'>2</span><span class='o'>:</span><span class='m'>4</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 4.2 3.3 5.4</span>

<span class='nv'>x</span><span class='o'>[</span><span class='nf'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>4</span>, <span class='m'>2</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 2.1 3.3</span>
</code></pre>
</div>
<p>(In R the indices run from 1 to the length of the object: in Python indices run from 0 to length-1).</p>
<p><strong>Negative integers</strong> exclude elements at the specified positions:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span><span class='o'>[</span><span class='o'>-</span><span class='m'>3</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 2.1 4.2 5.4</span>

<span class='nv'>x</span><span class='o'>[</span><span class='o'>-</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>3</span>, <span class='m'>1</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 4.2 5.4</span>

<span class='c'>#&gt; [1] 4.2 5.4</span>
</code></pre>
</div>
<p><strong>Logical vectors</strong> select elements where the corresponding logical value is TRUE. This is most useful if you can write a <strong>comparison expression</strong> <code>2 &gt; 3</code>, <code>4 == 4</code>, that returns TRUE (or FALSE) for each element of the vector:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span><span class='o'>[</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='kc'>TRUE</span>, <span class='kc'>TRUE</span>, <span class='kc'>FALSE</span>, <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 2.1 4.2</span>

<span class='nv'>x</span><span class='o'>[</span><span class='nv'>x</span> <span class='o'>&gt;</span> <span class='m'>3</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 4.2 3.3 5.4</span>
</code></pre>
</div>
<p><strong>Attributes</strong>. One of the unusual features of R as opposed to Python is that you can assign metadata of various kinds to the elements of vectors (and lists). For example, we can assign a <strong>name</strong> to each element, and then use a character vector as the index expression:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>y</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>2.1</span>, b <span class='o'>=</span> <span class='m'>4.2</span>, c <span class='o'>=</span> <span class='m'>3.3</span>, d <span class='o'>=</span> <span class='m'>5.4</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>y</span><span class='o'>)</span>

<span class='c'>#&gt;  Named num [1:4] 2.1 4.2 3.3 5.4</span>
<span class='c'>#&gt;  - attr(*, "names")= chr [1:4] "a" "b" "c" "d"</span>

<span class='nv'>y</span><span class='o'>[</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"d"</span>, <span class='s'>"c"</span>, <span class='s'>"a"</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt;   d   c   a </span>
<span class='c'>#&gt; 5.4 3.3 2.1</span>
</code></pre>
</div>
<p>(Again, Python has no direct equivalent of this, but we can get a similar effect using a <em>dictionary</em> data structure, which explicitly assigns a name to each value).</p>
<p><strong>Nothing</strong> (<code>[]</code>) returns the entire vector:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span><span class='o'>[</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 2.1 4.2 3.3 5.4</span>
</code></pre>
</div>
<p>This is not useful for (one dimensional) vectors, but is behind the notation for extracting rows and columns from matrices. Keep in mind a &ldquo;nothing&rdquo; index returns &ldquo;everything&rdquo;.</p>
<h2 id="matrices">Matrices</h2>
<p>A matrix is simply a vector with a <strong>dimensions</strong> attribute. Here we convert a vector to a two-dimensional matrix, with two rows and three columns, with <a href="https://rdrr.io/r/base/dim.html" target="_blank" rel="noopener"><code>dim(rows, cols)</code></a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>z</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>2.1</span>, <span class='m'>4.2</span>, <span class='m'>3.3</span>, <span class='m'>5.4</span>, <span class='m'>8.5</span>, <span class='m'>1.6</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>z</span><span class='o'>)</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>2</span>, <span class='m'>3</span><span class='o'>)</span>
<span class='nv'>z</span>

<span class='c'>#&gt;      [,1] [,2] [,3]</span>
<span class='c'>#&gt; [1,]  2.1  3.3  8.5</span>
<span class='c'>#&gt; [2,]  4.2  5.4  1.6</span>
</code></pre>
</div>
<p>Now we can index a specific value using comma notation, where the <em>first</em> index specifies the row, and the <em>second</em> index the <em>column</em> (in Python this is reversed):</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>z</span><span class='o'>[</span><span class='m'>2</span>,<span class='m'>3</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 1.6</span>
</code></pre>
</div>
<p>And in two dimensions the <strong>nothing</strong> after the <code>,</code> returns <strong>every</strong> column for that row:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>z</span><span class='o'>[</span><span class='m'>2</span>,<span class='o'>]</span>

<span class='c'>#&gt; [1] 4.2 5.4 1.6</span>
</code></pre>
</div>
<p>And here is a way of selecting a submatrix (every row for all columns except the first):</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>z</span><span class='o'>[</span>,<span class='o'>-</span><span class='m'>1</span><span class='o'>]</span>

<span class='c'>#&gt;      [,1] [,2]</span>
<span class='c'>#&gt; [1,]  3.3  8.5</span>
<span class='c'>#&gt; [2,]  5.4  1.6</span>
</code></pre>
</div>
<h2 id="lists">Lists</h2>
<p>There are two main differences between vectors and lists: (i) lists can contain elements of <strong>different types</strong>; and (ii) lists can contain <strong>other lists</strong>. This is why lists are sometimes referred to as <strong>recursive vectors</strong>. We will see examples of these below, but first let&rsquo;s directly compare a <em>list</em> of numbers to a <em>vector</em> of numbers, and examine the structure. Lists are constructed with the <a href="https://rdrr.io/r/base/list.html" target="_blank" rel="noopener"><code>list()</code></a> function.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>l</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>2.1</span>, <span class='m'>4.2</span>, <span class='m'>3.3</span>, <span class='m'>5.4</span><span class='o'>)</span>
<span class='nv'>l</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 2.1</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] 4.2</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[3]]</span>
<span class='c'>#&gt; [1] 3.3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[4]]</span>
<span class='c'>#&gt; [1] 5.4</span>

<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>l</span><span class='o'>)</span>

<span class='c'>#&gt; List of 4</span>
<span class='c'>#&gt;  $ : num 2.1</span>
<span class='c'>#&gt;  $ : num 4.2</span>
<span class='c'>#&gt;  $ : num 3.3</span>
<span class='c'>#&gt;  $ : num 5.4</span>
</code></pre>
</div>
<p>Here we see the appearance of a new subsetting operator <code>[[ ]]</code>. What does it yield?</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>ll_2</span> <span class='o'>&lt;-</span> <span class='nv'>l</span><span class='o'>[[</span><span class='m'>2</span><span class='o'>]</span><span class='o'>]</span>
<span class='nv'>ll_2</span>

<span class='c'>#&gt; [1] 4.2</span>

<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>ll_2</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "double"</span>
</code></pre>
</div>
<p>Now compare this to the result of using the <code>[ ]</code> operator:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>l_2</span> <span class='o'>&lt;-</span> <span class='nv'>l</span><span class='o'>[</span><span class='m'>2</span><span class='o'>]</span>
<span class='nv'>l_2</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 4.2</span>

<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>l_2</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "list"</span>

<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>l_2</span><span class='o'>)</span>

<span class='c'>#&gt; List of 1</span>
<span class='c'>#&gt;  $ : num 4.2</span>
</code></pre>
</div>
<p>The behavior of the <code>[ ]</code> operator is very different for lists: it selects the element(s) you request, but <em>it always returns a subsetted version of the original list</em>. It &lsquo;shrinks&rsquo; the original list. There is nothing like this in Python; it&rsquo;s quite unique to R. (The reason this is the case will become clear when we examine data frames.) The <code>[[ ]]</code> operator on the other hand just returns the object you select.</p>
<p>As mentioned above, it&rsquo;s quite possible that an element of a list might itself be a list:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>m</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>2.1</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>4.21</span>, <span class='m'>4.22</span><span class='o'>)</span>, <span class='m'>3.3</span>, <span class='m'>5.4</span><span class='o'>)</span>
<span class='nv'>m</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 2.1</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [[2]][[1]]</span>
<span class='c'>#&gt; [1] 4.21</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]][[2]]</span>
<span class='c'>#&gt; [1] 4.22</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[3]]</span>
<span class='c'>#&gt; [1] 3.3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[4]]</span>
<span class='c'>#&gt; [1] 5.4</span>
</code></pre>
</div>
<p>This (print) output focuses on content, whereas the <a href="https://rdrr.io/r/utils/str.html" target="_blank" rel="noopener"><code>str()</code></a> function focuses on structure, and is very useful for nested lists:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>m</span><span class='o'>)</span>

<span class='c'>#&gt; List of 4</span>
<span class='c'>#&gt;  $ : num 2.1</span>
<span class='c'>#&gt;  $ :List of 2</span>
<span class='c'>#&gt;   ..$ : num 4.21</span>
<span class='c'>#&gt;   ..$ : num 4.22</span>
<span class='c'>#&gt;  $ : num 3.3</span>
<span class='c'>#&gt;  $ : num 5.4</span>
</code></pre>
</div>
<p>Once we combine nested lists and multiple types, things can get pretty hairy. There are various ways to visualize what&rsquo;s going on. Here is one example:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x1</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>2</span><span class='o'>)</span>, <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>3</span>, <span class='m'>4</span><span class='o'>)</span><span class='o'>)</span>
<span class='nv'>x2</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>2</span><span class='o'>)</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>3</span>, <span class='m'>4</span><span class='o'>)</span><span class='o'>)</span>
<span class='nv'>x3</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>2</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>3</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span>
</code></pre>
</div>
<p><img src="lists_structure.png" style="width:75.0%" /></p>
<p>However the printed form provides us a clue on how to extract an individual element from inside a nested list:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># m &lt;- list(2.1, list(4.21, 4.22), 3.3, 5.4)</span>

<span class='nv'>m</span><span class='o'>[[</span><span class='m'>2</span><span class='o'>]</span><span class='o'>]</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 4.21</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] 4.22</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>m</span><span class='o'>[[</span><span class='m'>2</span><span class='o'>]</span><span class='o'>]</span><span class='o'>[[</span><span class='m'>1</span><span class='o'>]</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 4.21</span>
</code></pre>
</div>
<p>In short, <code>[[ ]]</code> drills down into a list, while <code>[ ]</code> returns a diminished version of the original list.</p>
<p>Here&rsquo;s a visualization of various list subsetting operations:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>a</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>1</span><span class='o'>:</span><span class='m'>3</span>, <span class='s'>"a string"</span>, <span class='nv'>pi</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='o'>-</span><span class='m'>1</span>, <span class='o'>-</span><span class='m'>5</span><span class='o'>)</span><span class='o'>)</span>
<span class='nv'>a</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] "a string"</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[3]]</span>
<span class='c'>#&gt; [1] 3.141593</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[4]]</span>
<span class='c'>#&gt; [[4]][[1]]</span>
<span class='c'>#&gt; [1] -1</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[4]][[2]]</span>
<span class='c'>#&gt; [1] -5</span>

<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>a</span><span class='o'>)</span>

<span class='c'>#&gt; List of 4</span>
<span class='c'>#&gt;  $ : int [1:3] 1 2 3</span>
<span class='c'>#&gt;  $ : chr "a string"</span>
<span class='c'>#&gt;  $ : num 3.14</span>
<span class='c'>#&gt;  $ :List of 2</span>
<span class='c'>#&gt;   ..$ : num -1</span>
<span class='c'>#&gt;   ..$ : num -5</span>
</code></pre>
</div>
<figure><img src="lists_subsetting.png" style="width:75.0%" alt="" /><figcaption>Subsetting a list, visually.</figcaption></figure>
<p>Here is a recursive pepper shaker, <code>p</code></p>
<p><img src="shaker.png" style="width:25.0%" /></p>
<p>Here is the first packet, but still inside the shaker, <code>p[1]</code></p>
<p><img src="shaker_first_packet.png" style="width:25.0%" /></p>
<p>Here is the first packet by itself, <code>p[[1]]</code></p>
<p><img src="packet.png" style="width:25.0%" /></p>
<p>And here is the contents of that packet, <code>p[[1]][[1]]</code></p>
<p><img src="pepper.png" style="width:25.0%" /></p>
<p>We&rsquo;ll play with yet another type of visualization in the exercises.</p>
<h2 id="data-frames">Data frames</h2>
<p>Let&rsquo;s look at a simple data frame:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span>x <span class='o'>=</span> <span class='m'>1</span><span class='o'>:</span><span class='m'>3</span>, y <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"a"</span>, <span class='s'>"b"</span>, <span class='s'>"c"</span><span class='o'>)</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='o'>(</span><span class='nv'>df</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "list"</span>

<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df</span><span class='o'>)</span>

<span class='c'>#&gt; 'data.frame':  3 obs. of  2 variables:</span>
<span class='c'>#&gt;  $ x: int  1 2 3</span>
<span class='c'>#&gt;  $ y: chr  "a" "b" "c"</span>
</code></pre>
</div>
<p>So a data frame is basically a list (of columns), with a names attribute for the column names; and with the extra condition that all the columns are of the same length. So we should be able to use our standard list subsetting operators on it:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df_col_1</span> <span class='o'>&lt;-</span> <span class='nv'>df</span><span class='o'>[</span><span class='m'>1</span><span class='o'>]</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df_col_1</span><span class='o'>)</span>

<span class='c'>#&gt; 'data.frame':  3 obs. of  1 variable:</span>
<span class='c'>#&gt;  $ x: int  1 2 3</span>
</code></pre>
</div>
<p>Since a data frame is a list, subsetting using <code>[ ]</code> returns the specified column still inside a data frame. What about <code>[[ ]]</code>?</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>col_1</span> <span class='o'>&lt;-</span> <span class='nv'>df</span><span class='o'>[[</span><span class='m'>1</span><span class='o'>]</span><span class='o'>]</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>col_1</span><span class='o'>)</span>

<span class='c'>#&gt;  int [1:3] 1 2 3</span>
</code></pre>
</div>
<p>Using <code>[[ ]]</code> returns the individual column.</p>
<p>We can also subset a data frame by name:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df_name</span> <span class='o'>&lt;-</span> <span class='nv'>df</span><span class='o'>[</span><span class='s'>"x"</span><span class='o'>]</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df_name</span><span class='o'>)</span>

<span class='c'>#&gt; 'data.frame':  3 obs. of  1 variable:</span>
<span class='c'>#&gt;  $ x: int  1 2 3</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df_nname</span> <span class='o'>&lt;-</span> <span class='nv'>df</span><span class='o'>[[</span><span class='s'>"x"</span><span class='o'>]</span><span class='o'>]</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df_nname</span><span class='o'>)</span>

<span class='c'>#&gt;  int [1:3] 1 2 3</span>
</code></pre>
</div>
<p>Finally <code>df$x</code> is simply a shorthand for <code>df[[&quot;x&quot;]]</code> without the <code>[[ ]]</code> and the <code>&quot; &quot;</code>:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df_dollar_name</span> <span class='o'>&lt;-</span> <span class='nv'>df</span><span class='o'>$</span><span class='nv'>x</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df_dollar_name</span><span class='o'>)</span>

<span class='c'>#&gt;  int [1:3] 1 2 3</span>
</code></pre>
</div>
<p>Just as a matter of interest, in the grand scheme of things lists are just a special kind of vector (a &lsquo;heterogeneous recursive vector&rsquo;), so it should be possible to stick a list column into a data frame. We can, but we have to use the <code>I</code> &lsquo;identity&rsquo; operator around the list:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>df_mixed</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span>
  x <span class='o'>=</span> <span class='m'>1</span><span class='o'>:</span><span class='m'>3</span>, 
  y <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/AsIs.html'>I</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>4L</span>, <span class='m'>7.2</span>, <span class='s'>"string"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>df_mixed</span><span class='o'>)</span>

<span class='c'>#&gt; 'data.frame':  3 obs. of  2 variables:</span>
<span class='c'>#&gt;  $ x: int  1 2 3</span>
<span class='c'>#&gt;  $ y:List of 3</span>
<span class='c'>#&gt;   ..$ : int 4</span>
<span class='c'>#&gt;   ..$ : num 7.2</span>
<span class='c'>#&gt;   ..$ : chr "string"</span>
<span class='c'>#&gt;   ..- attr(*, "class")= chr "AsIs"</span>
</code></pre>
</div>
<h4 id="further-reading-and-acknowledgement">Further reading and acknowledgement</h4>
<p>For more details on subsetting see <a href="https://r4ds.had.co.nz/" target="_blank" rel="noopener">R for Data Science</a> and <a href="https://adv-r.hadley.nz" target="_blank" rel="noopener">Advanced R</a> both by Hadley Wickham, from which much of the material in this module was borrowed.</p>
<hr>
<h2 id="exercise-1">Exercise 1</h2>
<div class="puzzle">
<p>A surprisingly useful operator for extracting elements of a numerical vector is the modulo operator <code>x %% y</code>. This returns the remainder when <code>x</code> is divided by <code>y</code>. It is a vectorized operation, so we can apply it to a list.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>2</span>, <span class='m'>3</span>, <span class='m'>4</span>, <span class='m'>5</span>, <span class='m'>6</span>, <span class='m'>7</span>, <span class='m'>8</span>, <span class='m'>9</span>, <span class='m'>10</span><span class='o'>)</span>
<span class='nv'>x</span> <span class='o'>%%</span> <span class='m'>3</span>

<span class='c'>#&gt;  [1] 1 2 0 1 2 0 1 2 0 1</span>
</code></pre>
</div>
<p>Use this operator to extract every third element of the above vector <code>x</code>.</p>
<details>
<summary> Hints (click here) </summary>
<p><br>Check the example in the presentation about selecting elements when the logical comparison is TRUE. What is the logical test we need to identify every third element? <br></p>
</details>
<br>
<details>
<summary> Solution (click here) </summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>x</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>2</span>, <span class='m'>3</span>, <span class='m'>4</span>, <span class='m'>5</span>, <span class='m'>6</span>, <span class='m'>7</span>, <span class='m'>8</span>, <span class='m'>9</span>, <span class='m'>10</span><span class='o'>)</span>
<span class='nv'>x</span><span class='o'>[</span><span class='nv'>x</span> <span class='o'>%%</span> <span class='m'>3</span> <span class='o'>==</span> <span class='m'>0</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 3 6 9</span>
</code></pre>
</div>
<br>
</details>
</div>
<hr>
<h2 id="exercise-2">Exercise 2</h2>
<div class="puzzle">
<p>Here is a visualization of a list:</p>
<p><img src="train_total.jpg" style="width:75.0%" /></p>
<p>Create a list in R called <code>train</code> that captures this structure. Print the list, and also display its structure.</p>
<details>
<summary> Hints (click here) </summary>
<p><br>This list has no nested lists, it&rsquo;s just a list of vectors and individual values. <br></p>
</details>
<br>
<details>
<summary> Solution (click here) </summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='m'>1</span><span class='o'>:</span><span class='m'>3</span>, <span class='s'>"a"</span>, <span class='m'>4</span><span class='o'>:</span><span class='m'>6</span><span class='o'>)</span>
<span class='nv'>train</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] "a"</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[3]]</span>
<span class='c'>#&gt; [1] 4 5 6</span>

<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>train</span><span class='o'>)</span>

<span class='c'>#&gt; List of 3</span>
<span class='c'>#&gt;  $ : int [1:3] 1 2 3</span>
<span class='c'>#&gt;  $ : chr "a"</span>
<span class='c'>#&gt;  $ : int [1:3] 4 5 6</span>
</code></pre>
</div>
<br>
</details>
</div>
<hr>
<h2 id="exercise-3">Exercise 3</h2>
<div class="puzzle">
<p>For each of the following sub-trains/carriages, determine the subsetting expression by eye, and then check that it works by subsetting your <code>train</code> list from exercise 1.</p>
<p><img src="trains_2.jpg" alt=""></p>
<details>
<summary> Hints (click here) </summary> <br> There's more than one way to do these; you will have to use both `[ ]` and `[[ ]]` operators. The last two are tricky, experiment with them... <br>
</details>
<br>
<details>
<summary> Solution (click here) </summary> <br>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[</span><span class='m'>1</span><span class='o'>]</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[[</span><span class='m'>1</span><span class='o'>]</span><span class='o'>]</span>

<span class='c'>#&gt; [1] 1 2 3</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[</span><span class='m'>1</span><span class='o'>:</span><span class='m'>2</span><span class='o'>]</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] "a"</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[</span><span class='o'>-</span><span class='m'>2</span><span class='o'>]</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] 4 5 6</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='m'>1</span>, <span class='m'>1</span><span class='o'>)</span><span class='o'>]</span>

<span class='c'>#&gt; [[1]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; [[2]]</span>
<span class='c'>#&gt; [1] 1 2 3</span>
</code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>train</span><span class='o'>[</span><span class='m'>0</span><span class='o'>]</span>

<span class='c'>#&gt; list()</span>
</code></pre>
</div>
</details>
</div>
<hr>
<h2 id="exercise-4">Exercise 4</h2>
<div class="puzzle">
<p>A common use of recursive structures in biology is to represent phylogenetic trees. Create a recursive list in R called <code>tree</code> which captures the following visual representation</p>
<p><img src="tree.jpg" alt=""></p>
<details>
<summary> Hints (click here) </summary> <br>Start at the top and work down. Start with a simpler subtree, then expand terminals.
<p>Alternatively, start at the bottom with the smallest subtree, then work up, adding sisters into parent nodes.</p>
<p>In either case, check your working with <a href="https://rdrr.io/r/utils/str.html" target="_blank" rel="noopener"><code>str()</code></a> as you incrementally add structure.</p>
<p>Notice this is a binary branching tree, so the root node of every subtree should contain two elements.</p>
<p>One of the tricks with these nested lists is to keep track of paired parentheses&hellip;</p>
<p><strong>Stay calm and recurse.</strong> <br></p>
</details>
<br>
<details>
<summary> Solution (click here) </summary> <br>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>tree</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='s'>"a"</span>, <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span><span class='s'>"b"</span>, <span class='s'>"c"</span><span class='o'>)</span>, <span class='s'>"d"</span><span class='o'>)</span><span class='o'>)</span>
<span class='nf'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='o'>(</span><span class='nv'>tree</span><span class='o'>)</span>

<span class='c'>#&gt; List of 2</span>
<span class='c'>#&gt;  $ : chr "a"</span>
<span class='c'>#&gt;  $ :List of 2</span>
<span class='c'>#&gt;   ..$ :List of 2</span>
<span class='c'>#&gt;   .. ..$ : chr "b"</span>
<span class='c'>#&gt;   .. ..$ : chr "c"</span>
<span class='c'>#&gt;   ..$ : chr "d"</span>
</code></pre>
</div>
</details>
</div>
<hr>
<p><br> <br> <br> <br></p>

                    </div>

                    <br>

                    








<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://biodash.github.io/codeclub/09_subsetting/&amp;text=Session%209:%20Subsetting" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://biodash.github.io/codeclub/09_subsetting/&amp;t=Session%209:%20Subsetting" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Session%209:%20Subsetting&amp;body=https://biodash.github.io/codeclub/09_subsetting/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://biodash.github.io/codeclub/09_subsetting/&amp;title=Session%209:%20Subsetting" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Session%209:%20Subsetting%20https://biodash.github.io/codeclub/09_subsetting/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://biodash.github.io/codeclub/09_subsetting/&amp;title=Session%209:%20Subsetting" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="/authors/michael-broe/"><img class="avatar mr-3 avatar-circle" src="/authors/michael-broe/avatar_hu13632d739ac05d9f7c100f25ef9127c7_976850_270x270_fill_q90_lanczos_center.jpg" alt="Michael Broe"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="/authors/michael-broe/">Michael Broe</a></h5>
      <h6 class="card-subtitle">Bioinformatician at EEOB</h6>
      
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:broe.1@osu.edu" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/michaelbroe" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  
















                    <br>

                    <hr class="separator">

                    <div class="clearfix">
                        
                        
                        <span class="previous-link">
                            <a href="https://biodash.github.io/codeclub/08_pivoting/">← Session 8: Reshaping Your Data</a>
                        </span>
                        
                        
                        
                        
                        <span class="next-link">
                            <a href="https://biodash.github.io/codeclub/10_faceting-animating/">Session 10: Faceting, multi-plots, and animating →</a>
                        </span>
                        
                        
                    </div>

                    <hr class="separator">

                </div>

            </article>

            
        </main>
    </div>
</div>

  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">
    
    <p class="powered-by">
      <a href="/license/">LICENSE: CC-BY-SA <br> <i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i> </a><br>
    </p>
    
</footer>
    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
    
      <script async defer src="https://maps.googleapis.com/maps/api/js?key="></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.25/gmaps.min.js" integrity="sha256-7vjlAeb8OaTrCXZkCNun9djzuB2owUsaO72kXaFDBJs=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js"></script>

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
      
    
    <script src="/en/js/wowchemy.min.2f16af175a3ec51b41b36bb4934b1cf7.js"></script>

    






</body>
</html>
