<!DOCTYPE html><html lang="en-us" >

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.0.0-beta.3 for Hugo" />
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Jelmer Poelstra" />

  
  
  
    
  
  <meta name="description" content="During this session of Code Club, we will learn to make interactive plots using ggplotly." />

  
  <link rel="alternate" hreflang="en-us" href="https://biodash.github.io/codeclub/s02e12_plotly/" />

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#3f51b5" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">

    
    

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.80f9a276c6100914c616a06e45ba8d09.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-9F9CQ7P0DX"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-9F9CQ7P0DX', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/index.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_32x32_fill_lanczos_center_2.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_180x180_fill_lanczos_center_2.png" />

  <link rel="canonical" href="https://biodash.github.io/codeclub/s02e12_plotly/" />

  
  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary" />
  
  <meta property="og:site_name" content="BioDASH" />
  <meta property="og:url" content="https://biodash.github.io/codeclub/s02e12_plotly/" />
  <meta property="og:title" content="S02E12: Plotly | BioDASH" />
  <meta property="og:description" content="During this session of Code Club, we will learn to make interactive plots using ggplotly." /><meta property="og:image" content="https://biodash.github.io/media/logo_hu6407506e646a281542ecb299640680ce_37988_300x300_fit_lanczos_2.png" />
    <meta property="twitter:image" content="https://biodash.github.io/media/logo_hu6407506e646a281542ecb299640680ce_37988_300x300_fit_lanczos_2.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2021-12-09T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2021-12-09T10:54:24-05:00">
  

  



  

  

  <link rel='stylesheet' href='/css/highlight-light.css' title='hl-light'>
<link rel='stylesheet' href='/css/highlight-dark.css' title='hl-dark' disabled>



  <title>S02E12: Plotly | BioDASH</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="1269559e3da64675bda6e063f9b2db5c" >

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7a224883d792570fd34d30c7134eace3.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Code Club</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/codeclub-schedule/"><span>- <b>Schedule</b></span></a>
            
              <a class="dropdown-item" href="/codeclub-schedule/#previous-semesters"><span>- Past Sessions</span></a>
            
              <a class="dropdown-item" href="/codeclub-setup/"><span>- Computer Setup</span></a>
            
              <a class="dropdown-item" href="/"><span>------------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-suggest/"><span>- Suggest a Topic</span></a>
            
              <a class="dropdown-item" href="/"><span>-----------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-about/"><span>- <b>About Code Club & Join Us!</b></span></a>
            
          </div>
        </li>

        
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Tutorials & Resources</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/events/2023-02_aws/"><span>AWS Workshop (Feb '23)</span></a>
            
              <a class="dropdown-item" href="/"><span>---------------------</span></a>
            
              <a class="dropdown-item" href="/tutorials/r-resources-tips/"><span>- R Resources and Tips</span></a>
            
              <a class="dropdown-item" href="/"><span>--------------------</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/2020-12-microbiomics-workshop/"><span>- Metabarcoding workshop (Fall '20)</span></a>
            
              <a class="dropdown-item" href="/tutorials/2021-01_rnaseq/"><span>- RNA-seq intro meetings (Spring '21)</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/pracs-sp21/"><span>- Computing Course (Spring '21)</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/cl-workshop-22/"><span>- Command-line, shell scripting and OSC Workshop (Summer '22)</span></a>
            
          </div>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/support/"><span>Bioinformatics Support</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="https://github.com/biodash/biodash.github.io" target="_blank" rel="noopener"><i class='fab fa-github'></i><span></span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/index.xml" target="_blank" rel="noopener"><i class='fas fa-rss'></i><span></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      
        
      
        
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      
      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    
<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="d-none d-xl-block col-xl-2 docs-toc">
            <ul class="nav toc-top">
                <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
            </ul>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#prep-homework">Prep homework</a>
      <ul>
        <li><a href="#basic-computer-setup">Basic computer setup</a></li>
        <li><a href="#new-to-ggplot">New to ggplot?</a></li>
      </ul>
    </li>
    <li><a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#rmarkdown-for-todays-session">RMarkdown for today&rsquo;s session</a></li>
      </ul>
    </li>
    <li><a href="#1---what-is-plotly">1 - What is plotly?</a></li>
    <li><a href="#2---load-libraries-get-data">2 - Load libraries, get data</a></li>
    <li><a href="#3---create-base-ggplot-object">3 - Create base ggplot object</a></li>
    <li><a href="#4---optimize-our-base-plot">4 - Optimize our base plot</a>
      <ul>
        <li><a href="#1-prevent-country-name-overlap">1. Prevent country name overlap</a></li>
        <li><a href="#2-reduce-overplotting">2. Reduce overplotting</a></li>
        <li><a href="#3-reorder-x-axis-to-something-meaningful">3. Reorder x-axis to something meaningful</a></li>
        <li><a href="#4-pretty-it-up">4. Pretty it up</a></li>
      </ul>
    </li>
    <li><a href="#5---make-it-interactive-with-ggplotly">5 - Make it interactive with <code>ggplotly()</code></a></li>
    <li><a href="#6---using-tooltip">6 - Using tooltip</a></li>
    <li><a href="#7---hover-label-aesthetics">7 - Hover label aesthetics</a></li>
    <li><a href="#8---saving-your-plots">8 - Saving your plots</a></li>
    <li><a href="#breakout-rooms">Breakout rooms</a>
      <ul>
        <li><a href="#exercise-1">Exercise 1</a></li>
        <li><a href="#exercise-2">Exercise 2</a></li>
        <li><a href="#exercise-3">Exercise 3</a></li>
        <li><a href="#exercise-4">Exercise 4</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
        <main class="col-12 col-md-0 col-xl-10 py-md-3 pl-md-5 docs-content" role="main">
            

            <article class="article">

                












  

  
  
  
<div class="article-container pt-3">
  <h1>S02E12: Plotly</h1>

  
  <p class="page-subtitle">Making our plots interactive</p>
  

  
    



<div class="article-metadata">

  
  
  
  
  <div>
    

  <span >
      <a href="/authors/jessica-cooperstone/">Jessica Cooperstone</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
    Dec 9, 2021
  </span>
  

  

  

  
  
  
  
  

  
  

</div>

    





  
</div>



                <div class="article-container">
                    <div class="article-style">
                        <hr>
<h2 id="prep-homework">Prep homework</h2>
<h3 id="basic-computer-setup">Basic computer setup</h3>
<ul>
<li>
<p>If you didn&rsquo;t already do this, please follow the <a href="/codeclub-setup/04_ggplot2/">Code Club Computer Setup</a> instructions, which also has pointers for if you&rsquo;re new to R or RStudio.</p>
</li>
<li>
<p>If you&rsquo;re able to do so, please open RStudio a bit before Code Club starts &ndash; and in case you run into issues, please join the Zoom call early and we&rsquo;ll help you troubleshoot.</p>
</li>
</ul>
<h3 id="new-to-ggplot">New to ggplot?</h3>
<p>Check out the PAST Code Club sessions covering <code>ggplot2</code>:</p>
<ul>
<li><a href="/codeclub/04_ggplot2/">S01E04</a>: intro to ggplot2</li>
<li><a href="/codeclub/05_ggplot-round-2/">S01E05</a>: intro to ggplot2 round 2</li>
<li><a href="/codeclub/10_faceting-animating/">S01E10</a>: faceting and animating</li>
<li><a href="/codeclub/s02e06_ggplot2/">S02E06</a>: another intro to ggplot2</li>
<li><a href="/codeclub/s02e07_ggplot2_part2/">S02E07</a>: a second intro to ggplot2 round 2</li>
<li><a href="/codeclub/s02e08_multiple_plots/">S02E08</a>: combining plots using faceting</li>
<li><a href="/codeclub/s02e09_multiple_plots_part2/">S02E09</a>: combining plots using faceting and patchwork</li>
<li><a href="/codeclub/s02e10_ggpubr/">S02E10</a>: adding statistics to plots</li>
</ul>
<p>If you&rsquo;ve never used <code>ggplot2</code> before (or even if you have), you may find <a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf" target="_blank" rel="noopener">this cheat sheet</a> useful.</p>
<br>
<h2 id="getting-started">Getting Started</h2>
<h3 id="rmarkdown-for-todays-session">RMarkdown for today&rsquo;s session</h3>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># directory for Code Club Session 15:</span>
<span class='nf'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='o'>(</span><span class='s'>"S02E12"</span><span class='o'>)</span>

<span class='c'># directory for our RMarkdown</span>
<span class='c'># ("recursive" to create two levels at once.)</span>
<span class='nf'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='o'>(</span><span class='s'>"S02E12/Rmd/"</span><span class='o'>)</span>

<span class='c'># save the url location for today's script</span>
<span class='nv'>todays_Rmd</span> <span class='o'>&lt;-</span> 
  <span class='s'>"https://raw.githubusercontent.com/biodash/biodash.github.io/master/content/codeclub/S02E12_plotly/plotly.Rmd"</span>

<span class='c'># indicate the name of the new Rmd</span>
<span class='nv'>S02E12_Rmd</span> <span class='o'>&lt;-</span> <span class='s'>"S02E12/Rmd/S02E12_plotly.Rmd"</span>

<span class='c'># go get that file! </span>
<span class='nf'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='o'>(</span>url <span class='o'>=</span> <span class='nv'>todays_Rmd</span>,
              destfile <span class='o'>=</span> <span class='nv'>S02E12_Rmd</span><span class='o'>)</span></code></pre>
</div>
<br>
<hr>
<h2 id="1---what-is-plotly">1 - What is plotly?</h2>
<p>Today we are going to talk about making interactive plots using <a href="https://plotly.com/" target="_blank" rel="noopener">Plotly</a>. Plotly exists in a variety of programming languages, but today we will be just talking about using it in <a href="https://plotly.com/r/" target="_blank" rel="noopener">R</a>. All of the plotly documentation can be found <a href="https://cran.r-project.org/web/packages/plotly/plotly.pdf" target="_blank" rel="noopener">here</a>.</p>
<p>If you have never used <code>plotly</code> before, install it with the code below.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='o'>(</span><span class='s'>"plotly"</span><span class='o'>)</span></code></pre>
</div>
<p>Here are some useful links to find info about using <code>ggplotly</code>.</p>
<ul>
<li><a href="https://plotly.com/ggplot2/#layout-options" target="_blank" rel="noopener">Basic ggplot2 charts</a></li>
<li><a href="https://plotly.com/r/plotly-fundamentals/" target="_blank" rel="noopener">Plotly R library fundamentals</a></li>
<li><a href="https://plotly-r.com/overview.html#intro-ggplotly" target="_blank" rel="noopener">Intro to <code>ggplotly()</code></a></li>
<li><a href="https://plotly.com/r/reference/layout/#" target="_blank" rel="noopener">Using <code>layout()</code></a></li>
<li><a href="https://plotly-r.com/controlling-tooltips.html#tooltip-text-ggplotly" target="_blank" rel="noopener"><code>ggplotly()</code> tooltips</a></li>
</ul>
<p>Before we start, there are two basic ways to use plot in R using plotly:</p>
<ul>
<li>Using <a href="https://www.rdocumentation.org/packages/plotly/versions/4.9.3/topics/ggplotly" target="_blank" rel="noopener"><code>ggplotly()</code></a> - this is what we will go over today because it has the same syntax as <code>ggplot()</code> which we have already learned</li>
<li>Using <a href="https://www.rdocumentation.org/packages/plotly/versions/4.9.3/topics/plot_ly" target="_blank" rel="noopener"><code>plot_ly()</code></a> - there is slightly more functionality in this function, but the syntax is all new, so I&rsquo;d suggest if you can do what you want with <a href="https://rdrr.io/pkg/plotly/man/ggplotly.html" target="_blank" rel="noopener"><code>ggplotly()</code></a>, do that. The syntax is not particularly hard so don&rsquo;t be scared to use it if interactive plots are something you&rsquo;re very interested in.</li>
</ul>
<p>When you are googling about using plotly, you will find a combination of <a href="https://rdrr.io/pkg/plotly/man/ggplotly.html" target="_blank" rel="noopener"><code>ggplotly()</code></a> and <a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" target="_blank" rel="noopener"><code>plot_ly()</code></a> approaches, and some parts of the code are interchangable. The easiesy way to see which parts are, is to try.</p>
<p>Also note, Google gets a bit confused when googling &ldquo;ggplotly&rdquo; and often returns information about just ggplot, so read extra carefully when problem solving.</p>
<p>This is an example of work from my group where we have found plotly to be particularly useful.</p>
<p><code>

<div id="chart-437681529" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./apples.json", function(chart) {
        Plotly.plot('chart-437681529', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code> Data from <a href="https://pubmed.ncbi.nlm.nih.gov/34472097/" target="_blank" rel="noopener">Bilbrey et al., New Phytologist 2021</a></p>
<br>
<hr>
<h2 id="2---load-libraries-get-data">2 - Load libraries, get data</h2>
<p>Lets load the libraries we are using for today.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='o'>)</span>
<span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='https://plotly-r.com'>plotly</a></span><span class='o'>)</span> <span class='c'># for making interactive plots</span>
<span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='https://github.com/tidyverse/glue'>glue</a></span><span class='o'>)</span> <span class='c'># for easy pasting</span>
<span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='https://github.com/ramnathv/htmlwidgets'>htmlwidgets</a></span><span class='o'>)</span> <span class='c'># for saving html files</span></code></pre>
</div>
<p>We are going to continue to use the pumpkins data we downloaded last week when we were learning about <a href="/codeclub/S02E11_shiny_intro/">Shiny</a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>&lt;-</span> <span class='nf'>read_csv</span><span class='o'>(</span><span class='s'>'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-10-19/pumpkins.csv'</span><span class='o'>)</span>
<span class='c'>#&gt; <span style='font-weight: bold;'>Rows: </span><span style='color: #0000BB;'>28065</span> <span style='font-weight: bold;'>Columns: </span><span style='color: #0000BB;'>14</span></span>
<span class='c'>#&gt; <span style='color: #00BBBB;'>──</span> <span style='font-weight: bold;'>Column specification</span> <span style='color: #00BBBB;'>────────────────────────────────────────────────────────</span></span>
<span class='c'>#&gt; <span style='font-weight: bold;'>Delimiter:</span> ","</span>
<span class='c'>#&gt; <span style='color: #BB0000;'>chr</span> (14): id, place, weight_lbs, grower_name, city, state_prov, country, gpc...</span>
<span class='c'>#&gt; </span>
<span class='c'>#&gt; <span style='color: #00BBBB;'>ℹ</span> Use <span style='color: #000000; background-color: #BBBBBB;'>`spec()`</span> to retrieve the full column specification for this data.</span>
<span class='c'>#&gt; <span style='color: #00BBBB;'>ℹ</span> Specify the column types or set <span style='color: #000000; background-color: #BBBBBB;'>`show_col_types = FALSE`</span> to quiet this message.</span></code></pre>
</div>
<p>We will start with the wrangling that Matt shared with us last week, and then go from there.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>&lt;-</span> <span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='c'># separate the year column</span>
  <span class='nf'>separate</span><span class='o'>(</span>col <span class='o'>=</span> <span class='nv'>id</span>, into <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"year"</span>, <span class='s'>"vegetable"</span><span class='o'>)</span>, sep <span class='o'>=</span> <span class='s'>"-"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='c'># find and tag the rows that do not have data</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='o'>(</span>delete <span class='o'>=</span> <span class='nf'>str_detect</span><span class='o'>(</span><span class='nv'>place</span>, <span class='s'>"\\d*\\s*Entries"</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='c'># filter out the rows that do not have data</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>delete</span><span class='o'>==</span><span class='kc'>FALSE</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='c'># remove the tagging column</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='o'>(</span><span class='o'>-</span><span class='nv'>delete</span><span class='o'>)</span>

<span class='c'># rename the vegetables to their actual names</span>
<span class='nv'>pumpkins</span><span class='o'>$</span><span class='nv'>vegetable</span> <span class='o'>&lt;-</span> <span class='nv'>pumpkins</span><span class='o'>$</span><span class='nv'>vegetable</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^F$"</span>, <span class='s'>"Field Pumpkin"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^P$"</span>, <span class='s'>"Giant Pumpkin"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^S$"</span>, <span class='s'>"Giant Squash"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^W$"</span>, <span class='s'>"Giant Watermelon"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^L$"</span>, <span class='s'>"Long Gourd"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>str_replace</span><span class='o'>(</span><span class='s'>"^T$"</span>, <span class='s'>"Tomato"</span><span class='o'>)</span>

<span class='c'># get rid of commas in the weight_lbs column</span>
<span class='nv'>pumpkins</span><span class='o'>$</span><span class='nv'>weight_lbs</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='o'>(</span><span class='s'>","</span>,<span class='s'>""</span>,<span class='nv'>pumpkins</span><span class='o'>$</span><span class='nv'>weight_lbs</span><span class='o'>)</span><span class='o'>)</span></code></pre>
</div>
<p>Lets look at our data structure.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>pumpkins</span><span class='o'>)</span>
<span class='c'>#&gt; Rows: 28,011</span>
<span class='c'>#&gt; Columns: 15</span>
<span class='c'>#&gt; $ year              <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "2013", "2013", "2013", "2013", "2013", "2013", "201…</span>
<span class='c'>#&gt; $ vegetable         <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Field Pumpkin", "Field Pumpkin", "Field Pumpkin", "…</span>
<span class='c'>#&gt; $ place             <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "1", "2", "3", "4", "5", "5", "7", "8", "9", "10", "…</span>
<span class='c'>#&gt; $ weight_lbs        <span style='color: #555555; font-style: italic;'>&lt;dbl&gt;</span> 154.5, 146.5, 145.0, 140.8, 139.0, 139.0, 136.5, 136…</span>
<span class='c'>#&gt; $ grower_name       <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Ellenbecker, Todd &amp; Sequoia", "Razo, Steve", "Ellen…</span>
<span class='c'>#&gt; $ city              <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Gleason", "New Middletown", "Glenson", "Combined Lo…</span>
<span class='c'>#&gt; $ state_prov        <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Wisconsin", "Ohio", "Wisconsin", "Wisconsin", "Wisc…</span>
<span class='c'>#&gt; $ country           <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "United States", "United States", "United States", "…</span>
<span class='c'>#&gt; $ gpc_site          <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Nekoosa Giant Pumpkin Fest", "Ohio Valley Giant Pum…</span>
<span class='c'>#&gt; $ seed_mother       <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "209 Werner", "150.5 Snyder", "209 Werner", "109 Mar…</span>
<span class='c'>#&gt; $ pollinator_father <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "Self", NA, "103 Mackinnon", "209 Werner '12", "open…</span>
<span class='c'>#&gt; $ ott               <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "184.0", "194.0", "177.0", "194.0", "0.0", "190.0", …</span>
<span class='c'>#&gt; $ est_weight        <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "129.00", "151.00", "115.00", "151.00", "0.00", "141…</span>
<span class='c'>#&gt; $ pct_chart         <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> "20.0", "-3.0", "26.0", "-7.0", "0.0", "-1.0", "-4.0…</span>
<span class='c'>#&gt; $ variety           <span style='color: #555555; font-style: italic;'>&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></code></pre>
</div>
<p>Note that all of the columns have the class &ldquo;character&rdquo; except <code>weight_lbs</code> which is numeric. We could just fix this now, but I&rsquo;m going to show you an alternative way to handle this in a minute.</p>
<br>
<hr>
<h2 id="3---create-base-ggplot-object">3 - Create base ggplot object</h2>
<p>Using the <code>pumpkins</code> dataset lets work towards creating a plot that shows the distribution of weights of tomatoes by country. I will show you here how you can use <code>dplyr</code> functions within your <code>ggplot2</code> call.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>country</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             color <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span><span class='o'>)</span>
</code></pre>
<p><img src="figs/unnamed-chunk-7-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<p>We have a plot, its not horrible but it has a number of issues.</p>
<ol>
<li>The country names are getting cut off because some are too long, and there are enough of them that we are having overlapping.</li>
<li>We have an <a href="https://www.displayr.com/what-is-overplotting/" target="_blank" rel="noopener">overplotting</a> problem</li>
<li>The x-axis countries are ordered alphabetically. We will order our axis based on something more meaningful, like a characteristic of our data (more about this later).</li>
<li>The aesthetics need some adjustment for a more beautiful plot</li>
</ol>
<p>We will work on making our plot a bit better, and then we will make it interactive, such that you can hover your mouse over each datapoint, and learn more about that datapoint than what is directly visualized in the plot.</p>
<br>
<hr>
<h2 id="4---optimize-our-base-plot">4 - Optimize our base plot</h2>
<h3 id="1-prevent-country-name-overlap">1. Prevent country name overlap</h3>
<p>We can do this using by using <a href="https://ggplot2.tidyverse.org/reference/guide_axis.html" target="_blank" rel="noopener"><code>guide_axis()</code></a> within a <code>scale</code> function, here, <code>scale_x_discrete()</code>. To learn more about ggplot scales, click <a href="https://ggplot2-book.org/scales-guides.html" target="_blank" rel="noopener">here</a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>country</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             color <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>scale_x_discrete</span><span class='o'>(</span>guide <span class='o'>=</span> <span class='nf'>guide_axis</span><span class='o'>(</span>n.dodge <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span><span class='o'>)</span> <span class='c'># dodge every other name</span>
</code></pre>
<p><img src="figs/unnamed-chunk-8-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<p>Wow that was easy. We still have some overlapping, though we have a big figure legend that is in this case, not necessary. Lets remove it.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>country</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             color <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>scale_x_discrete</span><span class='o'>(</span>guide <span class='o'>=</span> <span class='nf'>guide_axis</span><span class='o'>(</span>n.dodge <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span><span class='o'>)</span>
</code></pre>
<p><img src="figs/unnamed-chunk-9-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<p>This is not the only way to fix the plot to avoid label overlap. Instead, you could put the x-axis country labels on an angle by using <code>theme(axis.text.x = element_text(angle = 45))</code>.</p>
<h3 id="2-reduce-overplotting">2. Reduce overplotting</h3>
<p>For the countries that have a lot of tomato entries, its hard to see some individual data points because there are just so many of them. We can add some transparency to the datapoints such that its easier to see them. I am also playing around with <code>color</code>, <code>fill</code>, and point <code>shape</code> so you can see what changing those values does to the plot.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>country</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             fill <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.5</span>, color <span class='o'>=</span> <span class='s'>"black"</span>, shape <span class='o'>=</span> <span class='m'>21</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span>,
        axis.text.x <span class='o'>=</span> <span class='nf'>element_text</span><span class='o'>(</span>angle <span class='o'>=</span> <span class='m'>45</span><span class='o'>)</span><span class='o'>)</span> 
</code></pre>
<p><img src="figs/unnamed-chunk-10-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<p>We still have overplotting but I think this is an improvement.</p>
<h3 id="3-reorder-x-axis-to-something-meaningful">3. Reorder x-axis to something meaningful</h3>
<p>Our x-axis is currently ordered alphabetically. This is really a meaningless ordering - instead lets order our data by some characteristic of the data that we want to communicate to our viewer. For example, we could order by increasing mean tomato weight. This would tell us, just by looking at the order of the x-axis, which country has on average, the biggest tomatoes. This is something that is hard to see with the data in its current form.</p>
<p>Remember before we saw that each of the columns except for <code>weight_lbs</code> was of the class &ldquo;character.&rdquo; To allow reordering, we need to change <code>country</code> to be a factor. We can do this directly in the <code>pumpkins</code> dataframe, or we can do it within the ggplot call using the pipe <a href="https://magrittr.tidyverse.org/reference/pipe.html" target="_blank" rel="noopener"><code>%&gt;%</code></a>.</p>
<p>We will use <a href="https://forcats.tidyverse.org/reference/fct_reorder.html" target="_blank" rel="noopener"><code>fct_reorder()</code></a> to do this, where we provide the the column we want to reorder (here, <code>country</code>), and what we want to reorder based on (here, <code>weight_lbs</code>), and what function to use for the reordering (here, <code>.fun = mean</code>).</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='o'>(</span>country <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='o'>(</span><span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nf'>fct_reorder</span><span class='o'>(</span><span class='nv'>country</span>, <span class='nv'>weight_lbs</span>, .fun <span class='o'>=</span> <span class='nv'>mean</span><span class='o'>)</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             fill <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.5</span>, color <span class='o'>=</span> <span class='s'>"black"</span>, shape <span class='o'>=</span> <span class='m'>21</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span>,
        axis.text.x <span class='o'>=</span> <span class='nf'>element_text</span><span class='o'>(</span>angle <span class='o'>=</span> <span class='m'>45</span>, hjust <span class='o'>=</span> <span class='m'>1</span><span class='o'>)</span><span class='o'>)</span> 
</code></pre>
<p><img src="figs/unnamed-chunk-11-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<p>Now we can see easily that Switzerland has the heaviest tomatoes on average entered into this competition.</p>
<h3 id="4-pretty-it-up">4. Pretty it up</h3>
<p>Let&rsquo;s fix up the aesthetics of the plot, and adjust the axis labels, and add a title. Note, in the title, adding <code>\n</code> into your title inserts a line break.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>tomato_plot</span> <span class='o'>&lt;-</span> <span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='o'>(</span>country <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='o'>(</span><span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nf'>fct_reorder</span><span class='o'>(</span><span class='nv'>country</span>, <span class='nv'>weight_lbs</span>, .fun <span class='o'>=</span> <span class='nv'>mean</span><span class='o'>)</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             fill <span class='o'>=</span> <span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.5</span>, color <span class='o'>=</span> <span class='s'>"black"</span>, shape <span class='o'>=</span> <span class='m'>21</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme_classic</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span>,
        axis.text.x <span class='o'>=</span> <span class='nf'>element_text</span><span class='o'>(</span>angle <span class='o'>=</span> <span class='m'>45</span>, hjust <span class='o'>=</span> <span class='m'>1</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span> <span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Country"</span>,
        y <span class='o'>=</span> <span class='s'>"Weight (in lbs)"</span>,
        title <span class='o'>=</span> <span class='s'>"Weights of Tomatoes by Country Entered \nin the Great Pumpkin Commonwealth Competition"</span><span class='o'>)</span>

<span class='nv'>tomato_plot</span>
</code></pre>
<p><img src="figs/unnamed-chunk-12-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
<h2 id="5---make-it-interactive-with-ggplotly">5 - Make it interactive with <code>ggplotly()</code></h2>
<p>You can learn more about the <a href="https://rdrr.io/pkg/plotly/man/ggplotly.html" target="_blank" rel="noopener"><code>ggplotly()</code></a> function, including its arguments <a href="https://www.rdocumentation.org/packages/plotly/versions/4.9.3/topics/ggplotly" target="_blank" rel="noopener">here</a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>tomato_plot</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-298375416" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./tomato1.json", function(chart) {
        Plotly.plot('chart-298375416', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
<p>Wow that was easy! Note that when you hover over a data point you see the information mapped in your <code>aes()</code> statement &ndash; this is the default. We will go over ways to change this.</p>
<br>
<hr>
<h2 id="6---using-tooltip">6 - Using tooltip</h2>
<p>Using tooltip helps you to indicate what appears when you hover over different parts of your plot. You can learn more about controlling <code>tooltip</code> <a href="https://plotly-r.com/controlling-tooltips.html" target="_blank" rel="noopener">here</a>.</p>
<p>What if we want to hover over each point and be able to tell who grew that tomato?</p>
<p>To do this, we indicate what we want to hover with using <code>text =</code> in our aesthetic mappings. Then, we indicate <code>tooltip = &quot;text&quot;</code> to tell <a href="https://rdrr.io/pkg/plotly/man/ggplotly.html" target="_blank" rel="noopener"><code>ggplotly()</code></a> what we want to hover.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>tomato_plot</span> <span class='o'>&lt;-</span> <span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='o'>(</span>country <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='o'>(</span><span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nf'>fct_reorder</span><span class='o'>(</span><span class='nv'>country</span>, <span class='nv'>weight_lbs</span>, .fun <span class='o'>=</span> <span class='nv'>mean</span><span class='o'>)</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             fill <span class='o'>=</span> <span class='nv'>country</span>,
             text <span class='o'>=</span> <span class='nv'>grower_name</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.5</span>, color <span class='o'>=</span> <span class='s'>"black"</span>, shape <span class='o'>=</span> <span class='m'>21</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme_classic</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span>,
        axis.text.x <span class='o'>=</span> <span class='nf'>element_text</span><span class='o'>(</span>angle <span class='o'>=</span> <span class='m'>45</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Country"</span>,
       y <span class='o'>=</span> <span class='s'>"Weight (in lbs)"</span>,
       title <span class='o'>=</span> <span class='s'>"Weights of Tomatoes by Country Entered \nin the Great Pumpkin Commonwealth Competition"</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>tomato_plot</span>,
         tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-496517832" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./tomato2.json", function(chart) {
        Plotly.plot('chart-496517832', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
<p>You can play around a lot with tooltip to get it to be exactly how you want, and you can include multiple things in your hover text.</p>
<p>You can add multiple items to <code>text</code>, and also use the function <a href="https://glue.tidyverse.org/reference/glue.html" target="_blank" rel="noopener"><code>glue()</code></a> which allows more intuitive pasting to get your hover text to in your preferred format.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>tomato_plot</span> <span class='o'>&lt;-</span> <span class='nv'>pumpkins</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>vegetable</span> <span class='o'>==</span> <span class='s'>"Tomato"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='o'>(</span>country <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='o'>(</span><span class='nv'>country</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nf'>fct_reorder</span><span class='o'>(</span><span class='nv'>country</span>, <span class='nv'>weight_lbs</span>, .fun <span class='o'>=</span> <span class='nv'>mean</span><span class='o'>)</span>, 
             y <span class='o'>=</span> <span class='nv'>weight_lbs</span>, 
             fill <span class='o'>=</span> <span class='nv'>country</span>,
             text <span class='o'>=</span> <span class='nf'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='o'>(</span><span class='s'>"Grown by &#123;grower_name&#125;
                         From &#123;city&#125;, &#123;state_prov&#125;"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_jitter</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.5</span>, color <span class='o'>=</span> <span class='s'>"black"</span>, shape <span class='o'>=</span> <span class='m'>21</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme_classic</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>theme</span><span class='o'>(</span>legend.position <span class='o'>=</span> <span class='s'>"none"</span>,
        axis.text.x <span class='o'>=</span> <span class='nf'>element_text</span><span class='o'>(</span>angle <span class='o'>=</span> <span class='m'>45</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Country"</span>,
       y <span class='o'>=</span> <span class='s'>"Weight (in lbs)"</span>,
       title <span class='o'>=</span> <span class='s'>"Weights of Tomatoes by Country Entered \nin the Great Pumpkin Commonwealth Competition"</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>tomato_plot</span>,
         tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-879412653" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./tomato3.json", function(chart) {
        Plotly.plot('chart-879412653', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
<br>
<hr>
<h2 id="7---hover-label-aesthetics">7 - Hover label aesthetics</h2>
<p>You might not like the default hover text aesthetics, and can change them! You can do this using <code>style</code> and <code>layout</code> and adding these functions using the pipe <a href="https://magrittr.tidyverse.org/reference/pipe.html" target="_blank" rel="noopener"><code>%&gt;%</code></a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># setting fonts for the plot</span>
<span class='nv'>font</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>
  family <span class='o'>=</span> <span class='s'>"Calibri"</span>,
  size <span class='o'>=</span> <span class='m'>15</span>,
  color <span class='o'>=</span> <span class='s'>"white"</span><span class='o'>)</span>

<span class='c'># setting hover label specs</span>
<span class='nv'>label</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>
  bgcolor <span class='o'>=</span> <span class='s'>"#FF0000"</span>,
  bordercolor <span class='o'>=</span> <span class='s'>"transparent"</span>,
  font <span class='o'>=</span> <span class='nv'>font</span><span class='o'>)</span> <span class='c'># we can do this bc we already set font</span>

<span class='c'># amending our ggplotly call to include new fonts and hover label specs</span>
<span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>tomato_plot</span>, tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/style.html'>style</a></span><span class='o'>(</span>hoverlabel <span class='o'>=</span> <span class='nv'>label</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></span><span class='o'>(</span>font <span class='o'>=</span> <span class='nv'>font</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-253678914" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./tomato4.json", function(chart) {
        Plotly.plot('chart-253678914', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
<br>
<hr>
<h2 id="8---saving-your-plots">8 - Saving your plots</h2>
<p>Now that you&rsquo;ve made a beautiful interactive plot, you probably want to save it.</p>
<p>Assign the plot you want to save to an object, and use the function <a href="https://rdrr.io/pkg/htmlwidgets/man/saveWidget.html" target="_blank" rel="noopener"><code>saveWidget()</code></a> to save it. You can find the documentation <a href="https://www.rdocumentation.org/packages/htmlwidgets/versions/1.5.3/topics/saveWidget" target="_blank" rel="noopener">here</a>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># assign ggplotly plot to an object</span>
<span class='nv'>ggplotly_to_save</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>tomato_plot</span>,
                             tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
                      <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/style.html'>style</a></span><span class='o'>(</span>hoverlabel <span class='o'>=</span> <span class='nv'>label</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
                      <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></span><span class='o'>(</span>font <span class='o'>=</span> <span class='nv'>font</span><span class='o'>)</span>

<span class='c'># save</span>
<span class='nf'><a href='https://rdrr.io/pkg/htmlwidgets/man/saveWidget.html'>saveWidget</a></span><span class='o'>(</span>widget <span class='o'>=</span> <span class='nv'>ggplotly_to_save</span>,
           file <span class='o'>=</span> <span class='s'>"ggplotlying.html"</span><span class='o'>)</span></code></pre>
</div>
<br>
<hr>
<h2 id="breakout-rooms">Breakout rooms</h2>
<p>We are going to use the <code>palmerpenguins</code> dataset called <code>penguins</code>.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='https://allisonhorst.github.io/palmerpenguins/'>palmerpenguins</a></span><span class='o'>)</span>

<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>penguins</span><span class='o'>)</span>
<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 × 8</span></span>
<span class='c'>#&gt;   species island bill_length_mm bill_depth_mm flipper_length_… body_mass_g sex  </span>
<span class='c'>#&gt;   <span style='color: #555555; font-style: italic;'>&lt;fct&gt;</span>   <span style='color: #555555; font-style: italic;'>&lt;fct&gt;</span>           <span style='color: #555555; font-style: italic;'>&lt;dbl&gt;</span>         <span style='color: #555555; font-style: italic;'>&lt;dbl&gt;</span>            <span style='color: #555555; font-style: italic;'>&lt;int&gt;</span>       <span style='color: #555555; font-style: italic;'>&lt;int&gt;</span> <span style='color: #555555; font-style: italic;'>&lt;fct&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span> Adelie  Torge…           39.1          18.7              181        <span style='text-decoration: underline;'>3</span>750 male </span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span> Adelie  Torge…           39.5          17.4              186        <span style='text-decoration: underline;'>3</span>800 fema…</span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span> Adelie  Torge…           40.3          18                195        <span style='text-decoration: underline;'>3</span>250 fema…</span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span> Adelie  Torge…           <span style='color: #BB0000;'>NA</span>            <span style='color: #BB0000;'>NA</span>                 <span style='color: #BB0000;'>NA</span>          <span style='color: #BB0000;'>NA</span> <span style='color: #BB0000;'>NA</span>   </span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span> Adelie  Torge…           36.7          19.3              193        <span style='text-decoration: underline;'>3</span>450 fema…</span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span> Adelie  Torge…           39.3          20.6              190        <span style='text-decoration: underline;'>3</span>650 male </span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 1 more variable: year &lt;int&gt;</span></span></code></pre>
</div>
<h3 id="exercise-1">Exercise 1</h3>
<div class="puzzle">
<div>
<p>Using the <code>penguins</code> dataset and make a base scatter plot with bill length on the y, and bill depth on the x. Remove any observations with missing data.</p>
<details>
<summary>
Hints (click here)
</summary>
You can use `drop_na()` to remove NAs. The helper `any_of()` is useful for removing NAs only from certain variables. You can also just remove any NAs, it doesn't really matter here. <br>
</details>
<br>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>bill_depth_length</span> <span class='o'>&lt;-</span> <span class='nv'>penguins</span> <span class='o'>%&gt;%</span>
  <span class='nf'>drop_na</span><span class='o'>(</span><span class='nf'>any_of</span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"bill_depth_mm"</span>, <span class='s'>"bill_length_mm"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>bill_depth_mm</span>, y <span class='o'>=</span> <span class='nv'>bill_length_mm</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span>

<span class='nv'>bill_depth_length</span>
</code></pre>
<p><img src="figs/unnamed-chunk-25-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-2">Exercise 2</h3>
<div class="puzzle">
<div>
<p>Add appropriate x and y-axis labels, and a title to your plot.</p>
<details>
<summary>
Hints (click here)
</summary>
You can add labels for x, y, and a title using `labs().` <br>
</details>
<br>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>bill_depth_length</span> <span class='o'>&lt;-</span> <span class='nv'>penguins</span> <span class='o'>%&gt;%</span>
  <span class='nf'>drop_na</span><span class='o'>(</span><span class='nf'>any_of</span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"bill_depth_mm"</span>, <span class='s'>"bill_length_mm"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>bill_depth_mm</span>, y <span class='o'>=</span> <span class='nv'>bill_length_mm</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Culmen Depth (mm)"</span>,
       y <span class='o'>=</span> <span class='s'>"Culmen Length (mm)"</span>,
       title <span class='o'>=</span> <span class='s'>"Exploration of penguin bill length and depth relationships"</span><span class='o'>)</span>

<span class='nv'>bill_depth_length</span>
</code></pre>
<p><img src="figs/unnamed-chunk-26-1.png" width="700px" style="display: block; margin: auto;" /></p>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-3">Exercise 3</h3>
<div class="puzzle">
<div>
<p>Make your plot interactive such that when you hover over a point, it tell you what island the penguin is from.</p>
<details>
<summary>
Hints (click here)
</summary>
Specify what you want your "tooltip" to be by using `text` within your `aes()` statement. <br>
</details>
<br>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>bill_depth_length</span> <span class='o'>&lt;-</span> <span class='nv'>penguins</span> <span class='o'>%&gt;%</span>
  <span class='nf'>drop_na</span><span class='o'>(</span><span class='nf'>any_of</span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"bill_depth_mm"</span>, <span class='s'>"bill_length_mm"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>bill_depth_mm</span>, y <span class='o'>=</span> <span class='nv'>bill_length_mm</span>, text <span class='o'>=</span> <span class='nv'>island</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Culmen Depth (mm)"</span>,
       y <span class='o'>=</span> <span class='s'>"Culmen Length (mm)"</span>,
       title <span class='o'>=</span> <span class='s'>"Exploration of penguin bill length and depth relationships"</span><span class='o'>)</span>

<span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>bill_depth_length</span>,
         tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-541869327" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./penguins1.json", function(chart) {
        Plotly.plot('chart-541869327', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-4">Exercise 4</h3>
<div class="puzzle">
<div>
<p>Add the sex of the penguin to the hover text, change the hover text so that the background color is red, and make all the fonts for the plot something other than the default.</p>
<details>
<summary>
Hints (click here)
</summary>
You can set fonts either within your `ggplot()` call, or setting `font` within [`layout()`](https://rdrr.io/pkg/plotly/man/layout.html). You can customize the hover label with [`style()`](https://rdrr.io/pkg/plotly/man/style.html). Use [`glue()`](https://glue.tidyverse.org/reference/glue.html) to paste in some information that helps your reader know what your hover text is referring to. <br>
</details>
<br>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># setting fonts for the plot</span>
<span class='nv'>penguins_font</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>
  family <span class='o'>=</span> <span class='s'>"Proxima Nova"</span>, <span class='c'># this is the official OSU font</span>
  size <span class='o'>=</span> <span class='m'>15</span>,
  color <span class='o'>=</span> <span class='s'>"white"</span><span class='o'>)</span>

<span class='c'># setting hover label specs</span>
<span class='nv'>penguins_label</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>
  bgcolor <span class='o'>=</span> <span class='s'>"blue"</span>,
  bordercolor <span class='o'>=</span> <span class='s'>"transparent"</span>,
  font <span class='o'>=</span> <span class='nv'>penguins_font</span><span class='o'>)</span> <span class='c'># we can do this bc we already set font</span>

<span class='nv'>bill_depth_length</span> <span class='o'>&lt;-</span> <span class='nv'>penguins</span> <span class='o'>%&gt;%</span>
  <span class='nf'>drop_na</span><span class='o'>(</span><span class='nf'>any_of</span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"bill_depth_mm"</span>, <span class='s'>"bill_length_mm"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>bill_depth_mm</span>, y <span class='o'>=</span> <span class='nv'>bill_length_mm</span>, 
             text <span class='o'>=</span> <span class='nf'><a href='https://glue.tidyverse.org/reference/glue.html'>glue</a></span><span class='o'>(</span><span class='s'>"Island: &#123;island&#125;
                         Sex: &#123;sex&#125;"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>+</span>
  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='s'>"Culmen Depth (mm)"</span>,
       y <span class='o'>=</span> <span class='s'>"Culmen Length (mm)"</span>,
       title <span class='o'>=</span> <span class='s'>"Exploration of penguin bill length and depth relationships"</span><span class='o'>)</span>

<span class='c'># amending our ggplotly call to include new fonts and hover label specs</span>
<span class='nf'><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></span><span class='o'>(</span><span class='nv'>bill_depth_length</span>, tooltip <span class='o'>=</span> <span class='s'>"text"</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/style.html'>style</a></span><span class='o'>(</span>hoverlabel <span class='o'>=</span> <span class='nv'>penguins_label</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
  <span class='nf'><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></span><span class='o'>(</span>font <span class='o'>=</span> <span class='nv'>penguins_font</span><span class='o'>)</span></code></pre>
</div>
<div class="highlight">
</div>
<p><code>

<div id="chart-354218796" class="chart"></div>
<script>
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === 'undefined' ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json("./penguins2.json", function(chart) {
        Plotly.plot('chart-354218796', chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
</script></code></p>
</details>
<br>
</div>
</div>
<br>
<hr>

                    </div>

                    <br>

                    








<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://biodash.github.io/codeclub/s02e12_plotly/&amp;text=S02E12:%20Plotly" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://biodash.github.io/codeclub/s02e12_plotly/&amp;t=S02E12:%20Plotly" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=S02E12:%20Plotly&amp;body=https://biodash.github.io/codeclub/s02e12_plotly/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://biodash.github.io/codeclub/s02e12_plotly/&amp;title=S02E12:%20Plotly" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=S02E12:%20Plotly%20https://biodash.github.io/codeclub/s02e12_plotly/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://biodash.github.io/codeclub/s02e12_plotly/&amp;title=S02E12:%20Plotly" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="/authors/jessica-cooperstone/"><img class="avatar mr-3 avatar-circle" src="/authors/jessica-cooperstone/avatar_hub3c8c373219f94b7f8251ccae20f3fcb_68385_270x270_fill_q90_lanczos_center.jpg" alt="Jessica Cooperstone"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="/authors/jessica-cooperstone/">Jessica Cooperstone</a></h5>
      <h6 class="card-subtitle">Assistant Professor at HCS</h6>
      
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:cooperstone.1@osu.edu" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/CooperstoneLab" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=d-FkQNQAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/jcooperstone" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://phytochemicals.osu.edu/" target="_blank" rel="noopener">
        <i class="fas fa-external-link-alt"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  
















                    <br>

                    <hr class="separator">

                    <div class="clearfix">
                        
                        
                        <span class="previous-link">
                            <a href="https://biodash.github.io/codeclub/s02e11_shiny_intro/">← Code Club S02E11: Shiny Bright Like a Diamond</a>
                        </span>
                        
                        
                        
                        
                        <span class="next-link">
                            <a href="https://biodash.github.io/codeclub/s03e01_ttests/">Code Club S03E01: t-tests In R →</a>
                        </span>
                        
                        
                    </div>

                    <hr class="separator">

                </div>

            </article>

            
        </main>
    </div>
</div>

  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">
    
    <p class="powered-by">
      <a href="/license/">LICENSE: CC-BY-SA <br> <i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i> </a><br>
    </p>
    
</footer>
    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
    
      <script async defer src="https://maps.googleapis.com/maps/api/js?key="></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.25/gmaps.min.js" integrity="sha256-7vjlAeb8OaTrCXZkCNun9djzuB2owUsaO72kXaFDBJs=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/1.55.2/plotly.min.js" integrity="sha512-gttPT9uTUiaLBj6XZdcB0ydKXiDaBwstInkN4Qvp1Nz3iwXNc8TTQplIEPIGxyJBDqERjwkKxf2OyO47/0EHbQ==" crossorigin="anonymous"></script>
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js"></script>

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
      
    
    <script src="/en/js/wowchemy.min.2f16af175a3ec51b41b36bb4934b1cf7.js"></script>

    






</body>
</html>
