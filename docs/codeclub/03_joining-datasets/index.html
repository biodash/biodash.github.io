<!DOCTYPE html><html lang="en-us" >

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.0.0-beta.3 for Hugo" />
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Jelmer Poelstra" />

  
  
  
    
  
  <meta name="description" content="In this session of Code Club, we&#39;ll explore some methods for combining datasets according to a shared variable, with primary focus on the `*_join()` set of functions from **dplyr**. We&#39;ll also keep practicing with some of the core dplyr verbs from last session." />

  
  <link rel="alternate" hreflang="en-us" href="https://biodash.github.io/codeclub/03_joining-datasets/" />

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#3f51b5" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">

    
    

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.80f9a276c6100914c616a06e45ba8d09.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-9F9CQ7P0DX"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-9F9CQ7P0DX', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/index.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_32x32_fill_lanczos_center_2.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hucc2cf774636a7e386557c89fa75ff618_191491_180x180_fill_lanczos_center_2.png" />

  <link rel="canonical" href="https://biodash.github.io/codeclub/03_joining-datasets/" />

  
  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image" />
  
  <meta property="og:site_name" content="BioDASH" />
  <meta property="og:url" content="https://biodash.github.io/codeclub/03_joining-datasets/" />
  <meta property="og:title" content="Session 3: Joining Datasets | BioDASH" />
  <meta property="og:description" content="In this session of Code Club, we&#39;ll explore some methods for combining datasets according to a shared variable, with primary focus on the `*_join()` set of functions from **dplyr**. We&#39;ll also keep practicing with some of the core dplyr verbs from last session." /><meta property="og:image" content="https://biodash.github.io/codeclub/03_joining-datasets/featured.png" />
    <meta property="twitter:image" content="https://biodash.github.io/codeclub/03_joining-datasets/featured.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2020-12-04T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2021-08-17T11:57:37-04:00">
  

  



  

  

  <link rel='stylesheet' href='/css/highlight-light.css' title='hl-light'>
<link rel='stylesheet' href='/css/highlight-dark.css' title='hl-dark' disabled>



  <title>Session 3: Joining Datasets | BioDASH</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="27c93c3c265ed2c0052748376945f941" >

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7a224883d792570fd34d30c7134eace3.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/"><img src="/media/logo_hu6407506e646a281542ecb299640680ce_37988_0x70_resize_lanczos_2.png" alt="BioDASH"></a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Code Club</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/codeclub-schedule/"><span>- <b>Schedule</b></span></a>
            
              <a class="dropdown-item" href="/codeclub/"><span>- Past Sessions</span></a>
            
              <a class="dropdown-item" href="/codeclub-setup/"><span>- Computer Setup</span></a>
            
              <a class="dropdown-item" href="/"><span>------------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-suggest/"><span>- Suggest a Topic</span></a>
            
              <a class="dropdown-item" href="/codeclub-present/"><span>- Info for Presenters</span></a>
            
              <a class="dropdown-item" href="/"><span>-----------------------</span></a>
            
              <a class="dropdown-item" href="/codeclub-about/"><span>- <b>About Code Club & Join Us!</b></span></a>
            
          </div>
        </li>

        
        

        
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Tutorials & Resources</span><span class="caret"></span>
          </a>
          <div class="dropdown-menu">
            
              <a class="dropdown-item" href="/events/"><span>Events</span></a>
            
              <a class="dropdown-item" href="/"><span>---------------------</span></a>
            
              <a class="dropdown-item" href="/tutorials/r-resources-tips/"><span>- R Resources and Tips</span></a>
            
              <a class="dropdown-item" href="/"><span>--------------------</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/2020-12-microbiomics-workshop/"><span>- Metabarcoding workshop (Fall '20)</span></a>
            
              <a class="dropdown-item" href="/tutorials/2021-01_rnaseq/"><span>- RNA-seq intro meetings (Spring '21)</span></a>
            
              <a class="dropdown-item" href="https://mcic-osu.github.io/pracs-sp21/"><span>- Computing Course (Spring '21)</span></a>
            
          </div>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/support/"><span>Bioinformatics Support</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="https://github.com/biodash/biodash.github.io" target="_blank" rel="noopener"><i class='fab fa-github'></i><span></span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/index.xml" target="_blank" rel="noopener"><i class='fas fa-rss'></i><span></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      
        
      
        
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      
      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    
<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="d-none d-xl-block col-xl-2 docs-toc">
            <ul class="nav toc-top">
                <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
            </ul>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#new-to-code-club">New To Code Club?</a></li>
    <li><a href="#session-goals">Session Goals</a></li>
    <li><a href="#intro-mergingjoining-datasets">Intro: Merging/Joining Datasets</a></li>
    <li><a href="#examples">Examples</a>
      <ul>
        <li><a href="#1---inner_join">1 - <code>inner_join()</code></a></li>
        <li><a href="#2---left_join">2 - <code>left_join()</code></a></li>
        <li><a href="#3---right_join">3 - <code>right_join()</code></a></li>
        <li><a href="#4---full_join">4 - <code>full_join()</code></a></li>
      </ul>
    </li>
    <li><a href="#breakout-rooms">Breakout rooms</a>
      <ul>
        <li><a href="#exercise-1">Exercise 1</a></li>
        <li><a href="#exercise-2">Exercise 2</a></li>
        <li><a href="#exercise-3">Exercise 3</a></li>
        <li><a href="#exercise-4">Exercise 4</a></li>
        <li><a href="#exercise-5">Exercise 5</a></li>
        <li><a href="#exercise-6">Exercise 6</a></li>
        <li><a href="#exercise-7">Exercise 7</a></li>
        <li><a href="#exercise-8">Exercise 8</a></li>
      </ul>
    </li>
    <li><a href="#bonus-time">Bonus time!</a>
      <ul>
        <li><a href="#bonus-1">Bonus 1</a></li>
        <li><a href="#bonus-2">Bonus 2</a></li>
        <li><a href="#bonus-3">Bonus 3</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
        <main class="col-12 col-md-0 col-xl-10 py-md-3 pl-md-5 docs-content" role="main">
            

            <article class="article">

                




















  
  


<div class="article-container pt-3">
  <h1>Session 3: Joining Datasets</h1>

  
  <p class="page-subtitle">Using join functions to merge pairs of datasets</p>
  

  



<div class="article-metadata">

  
  
  
  
  <div>
    

  <span >
      <a href="/authors/mike-sovic/">Mike Sovic</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
    Aug 17, 2021
  </span>
  

  

  

  
  
  
  
  

  
  

</div>

  





</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 609px; max-height: 391px;">
  <div style="position: relative">
    <img src="/codeclub/03_joining-datasets/featured.png" alt="" class="featured-image">
    <span class="article-header-caption">Image from <a href="https://rpubs.com/williamsurles/293454">https://rpubs.com/williamsurles/293454</a></span>
  </div>
</div>



                <div class="article-container">
                    <div class="article-style">
                        <p><br> <br> <br></p>
<hr>
<h2 id="new-to-code-club">New To Code Club?</h2>
<ul>
<li>
<p>First, check out the <a href="/codeclub-setup/">Code Club Computer Setup</a> instructions, which also has some pointers that might be helpful if you&rsquo;re new to R or RStudio.</p>
</li>
<li>
<p>Please open RStudio before Code Club to test things out &ndash; if you run into issues, join the Zoom call early and we&rsquo;ll troubleshoot.</p>
</li>
</ul>
<hr>
<h2 id="session-goals">Session Goals</h2>
<ul>
<li>Differentiate between different types of joins&hellip;
<ul>
<li><code>inner_join()</code></li>
<li><code>full_join()</code></li>
<li><code>left_join()</code></li>
<li><code>right_join()</code></li>
</ul>
</li>
<li>Use a join function to add new variables to the birds dataset</li>
<li>Keep practicing with dplyr core verbs from last week, esp&hellip;
<ul>
<li><code>select()</code></li>
<li><code>filter()</code></li>
</ul>
</li>
<li>Answer the question &ldquo;What Ohio bird species have the longest and shortest average lifespans?&rdquo;.</li>
</ul>
<hr>
<h2 id="intro-mergingjoining-datasets">Intro: Merging/Joining Datasets</h2>
<p>Sometimes you don&rsquo;t have all your data in the same place. For example, maybe you have multiple Excel sheets for a project - each storing a different type of data for the same set of samples. Or maybe you&rsquo;re interested in analyzing various metrics for US states and are getting the data from different places online - economic data from one database, climate data from another, and so on. As part of the process of data wrangling, it&rsquo;s often useful to merge the separate datasets together according to a variable they share, possibly &ldquo;SampleID&rdquo; or &ldquo;State Name&rdquo; for the two above examples, respectively. R offers several ways to do this, but we&rsquo;ll focus here on the set of <code>*_join()</code> functions available in <em>dplyr</em>. They include&hellip;</p>
<ul>
<li><code>inner_join()</code></li>
<li><code>full_join()</code></li>
<li><code>left_join()</code></li>
<li><code>right_join()</code></li>
<li><code>semi_join()</code></li>
<li><code>anti_join()</code></li>
</ul>
<p>Check out the &lsquo;Combine Data Sets&rsquo; section of this <a href="https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" target="_blank" rel="noopener">cheat sheet</a> for a brief look at these functions.</p>
<p>You can also get more details <a href="https://dplyr.tidyverse.org/reference/join.html" target="_blank" rel="noopener">here</a>, or, as with any R function, by accessing the function&rsquo;s documentation inside R with the &lsquo;?&rsquo;. For example, type <code>?inner_join</code> at your R prompt and hit Enter. (Make sure the package the function comes from is loaded first! In this case, you need <em>dplyr</em>, which is loaded as part of <em>tidyverse</em>.)</p>
<br>
<hr>
<h2 id="examples">Examples</h2>
<p>Below we&rsquo;ll go through a few examples of joins. You&rsquo;re welcome to follow along and run this code on your own, <strong>but it&rsquo;s not necessary</strong> - the exercises in the breakout rooms are independent of these examples and will give you a chance to try these things out on your own.</p>
<p>If you want to follow along, you can find the code <a href="https://raw.githubusercontent.com/biodash/biodash.github.io/master/assets/scripts/birds/S03_Examples_Code.R" target="_blank" rel="noopener">here</a>.</p>
<br>
<hr>
<p>Since the <code>*_join()</code> functions come from the <em>dplyr</em> package, which is part of <em>tidyverse</em>, I&rsquo;ll load that first&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#this assumes you've already installed tidyverse</span>
<span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='o'>)</span>
</code></pre>
</div>
<p>The National Health and Nutrition Examination Survey <a href="https://www.rdocumentation.org/packages/NHANES/versions/2.1.0/topics/NHANES" target="_blank" rel="noopener">(NHANES) dataset</a> contains survey data obtained annually from ~5,000 individuals on a variety of health and lifestyle-related metrics. A subset of the data are available as an R package - install and load it&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='o'>(</span><span class='s'>"NHANES"</span>, repos <span class='o'>=</span> <span class='s'>"http://cran.us.r-project.org"</span><span class='o'>)</span>

<span class='c'>#&gt; </span>
<span class='c'>#&gt; The downloaded binary packages are in</span>
<span class='c'>#&gt;   /var/folders/s7/y_mgh3c54h9fjcyw9wqdkb8x4zs_jy/T//RtmpdHHxzY/downloaded_packages</span>

<span class='kr'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='o'>(</span><span class='nv'>NHANES</span><span class='o'>)</span>
</code></pre>
</div>
<p>Now preview the dataset&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>NHANES</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 10,000</span>
<span class='c'>#&gt; Columns: 76</span>
<span class='c'>#&gt; $ ID               <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 51624, 51624, 51624, 51625, 51630, 51638, 51646, 516…</span></span>
<span class='c'>#&gt; $ SurveyYr         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> 2009_10, 2009_10, 2009_10, 2009_10, 2009_10, 2009_10…</span></span>
<span class='c'>#&gt; $ Gender           <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> male, male, male, male, female, male, male, female, …</span></span>
<span class='c'>#&gt; $ Age              <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 34, 34, 34, 4, 49, 9, 8, 45, 45, 45, 66, 58, 54, 10,…</span></span>
<span class='c'>#&gt; $ AgeDecade        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  30-39,  30-39,  30-39,  0-9,  40-49,  0-9,  0-9,  4…</span></span>
<span class='c'>#&gt; $ AgeMonths        <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 409, 409, 409, 49, 596, 115, 101, 541, 541, 541, 795…</span></span>
<span class='c'>#&gt; $ Race1            <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> White, White, White, Other, White, White, White, Whi…</span></span>
<span class='c'>#&gt; $ Race3            <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ Education        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> High School, High School, High School, NA, Some Coll…</span></span>
<span class='c'>#&gt; $ MaritalStatus    <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Married, Married, Married, NA, LivePartner, NA, NA, …</span></span>
<span class='c'>#&gt; $ HHIncome         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> 25000-34999, 25000-34999, 25000-34999, 20000-24999, …</span></span>
<span class='c'>#&gt; $ HHIncomeMid      <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 30000, 30000, 30000, 22500, 40000, 87500, 60000, 875…</span></span>
<span class='c'>#&gt; $ Poverty          <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 1.36, 1.36, 1.36, 1.07, 1.91, 1.84, 2.33, 5.00, 5.00…</span></span>
<span class='c'>#&gt; $ HomeRooms        <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 6, 6, 6, 9, 5, 6, 7, 6, 6, 6, 5, 10, 6, 10, 10, 4, 3…</span></span>
<span class='c'>#&gt; $ HomeOwn          <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Own, Own, Own, Own, Rent, Rent, Own, Own, Own, Own, …</span></span>
<span class='c'>#&gt; $ Work             <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NotWorking, NotWorking, NotWorking, NA, NotWorking, …</span></span>
<span class='c'>#&gt; $ Weight           <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 87.4, 87.4, 87.4, 17.0, 86.7, 29.8, 35.2, 75.7, 75.7…</span></span>
<span class='c'>#&gt; $ Length           <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ HeadCirc         <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ Height           <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 164.7, 164.7, 164.7, 105.4, 168.4, 133.1, 130.6, 166…</span></span>
<span class='c'>#&gt; $ BMI              <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 32.22, 32.22, 32.22, 15.30, 30.57, 16.82, 20.64, 27.…</span></span>
<span class='c'>#&gt; $ BMICatUnder20yrs <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ BMI_WHO          <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> 30.0_plus, 30.0_plus, 30.0_plus, 12.0_18.5, 30.0_plu…</span></span>
<span class='c'>#&gt; $ Pulse            <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 70, 70, 70, NA, 86, 82, 72, 62, 62, 62, 60, 62, 76, …</span></span>
<span class='c'>#&gt; $ BPSysAve         <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 113, 113, 113, NA, 112, 86, 107, 118, 118, 118, 111,…</span></span>
<span class='c'>#&gt; $ BPDiaAve         <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 85, 85, 85, NA, 75, 47, 37, 64, 64, 64, 63, 74, 85, …</span></span>
<span class='c'>#&gt; $ BPSys1           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 114, 114, 114, NA, 118, 84, 114, 106, 106, 106, 124,…</span></span>
<span class='c'>#&gt; $ BPDia1           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 88, 88, 88, NA, 82, 50, 46, 62, 62, 62, 64, 76, 86, …</span></span>
<span class='c'>#&gt; $ BPSys2           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 114, 114, 114, NA, 108, 84, 108, 118, 118, 118, 108,…</span></span>
<span class='c'>#&gt; $ BPDia2           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 88, 88, 88, NA, 74, 50, 36, 68, 68, 68, 62, 72, 88, …</span></span>
<span class='c'>#&gt; $ BPSys3           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 112, 112, 112, NA, 116, 88, 106, 118, 118, 118, 114,…</span></span>
<span class='c'>#&gt; $ BPDia3           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 82, 82, 82, NA, 76, 44, 38, 60, 60, 60, 64, 76, 82, …</span></span>
<span class='c'>#&gt; $ Testosterone     <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ DirectChol       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 1.29, 1.29, 1.29, NA, 1.16, 1.34, 1.55, 2.12, 2.12, …</span></span>
<span class='c'>#&gt; $ TotChol          <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 3.49, 3.49, 3.49, NA, 6.70, 4.86, 4.09, 5.82, 5.82, …</span></span>
<span class='c'>#&gt; $ UrineVol1        <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 352, 352, 352, NA, 77, 123, 238, 106, 106, 106, 113,…</span></span>
<span class='c'>#&gt; $ UrineFlow1       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, 0.094, 1.538, 1.322, 1.116, 1.116, 1…</span></span>
<span class='c'>#&gt; $ UrineVol2        <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ UrineFlow2       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ Diabetes         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> No, No, No, No, No, No, No, No, No, No, No, No, No, …</span></span>
<span class='c'>#&gt; $ DiabetesAge      <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ HealthGen        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Good, Good, Good, NA, Good, NA, NA, Vgood, Vgood, Vg…</span></span>
<span class='c'>#&gt; $ DaysPhysHlthBad  <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 0, 0, 0, NA, 0, NA, NA, 0, 0, 0, 10, 0, 4, NA, NA, 0…</span></span>
<span class='c'>#&gt; $ DaysMentHlthBad  <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 15, 15, 15, NA, 10, NA, NA, 3, 3, 3, 0, 0, 0, NA, NA…</span></span>
<span class='c'>#&gt; $ LittleInterest   <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Most, Most, Most, NA, Several, NA, NA, None, None, N…</span></span>
<span class='c'>#&gt; $ Depressed        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Several, Several, Several, NA, Several, NA, NA, None…</span></span>
<span class='c'>#&gt; $ nPregnancies     <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, 2, NA, NA, 1, 1, 1, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ nBabies          <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span class='c'>#&gt; $ Age1stBaby       <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, 27, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ SleepHrsNight    <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 4, 4, 4, NA, 8, NA, NA, 8, 8, 8, 7, 5, 4, NA, 5, 7, …</span></span>
<span class='c'>#&gt; $ SleepTrouble     <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, No, No, …</span></span>
<span class='c'>#&gt; $ PhysActive       <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> No, No, No, NA, No, NA, NA, Yes, Yes, Yes, Yes, Yes,…</span></span>
<span class='c'>#&gt; $ PhysActiveDays   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 5, 5, 5, 7, 5, 1, NA, 2,…</span></span>
<span class='c'>#&gt; $ TVHrsDay         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ CompHrsDay       <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span class='c'>#&gt; $ TVHrsDayChild    <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, 4, NA, 5, 1, NA, NA, NA, NA, NA, NA, 4, …</span></span>
<span class='c'>#&gt; $ CompHrsDayChild  <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, 1, NA, 0, 6, NA, NA, NA, NA, NA, NA, 3, …</span></span>
<span class='c'>#&gt; $ Alcohol12PlusYr  <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, Yes, …</span></span>
<span class='c'>#&gt; $ AlcoholDay       <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, 2, NA, NA, 3, 3, 3, 1, 2, 6, NA, NA,…</span></span>
<span class='c'>#&gt; $ AlcoholYear      <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 0, 0, 0, NA, 20, NA, NA, 52, 52, 52, 100, 104, 364, …</span></span>
<span class='c'>#&gt; $ SmokeNow         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> No, No, No, NA, Yes, NA, NA, NA, NA, NA, No, NA, NA,…</span></span>
<span class='c'>#&gt; $ Smoke100         <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, Yes, No,…</span></span>
<span class='c'>#&gt; $ Smoke100n        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Smoker, Smoker, Smoker, NA, Smoker, NA, NA, Non-Smok…</span></span>
<span class='c'>#&gt; $ SmokeAge         <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 18, 18, 18, NA, 38, NA, NA, NA, NA, NA, 13, NA, NA, …</span></span>
<span class='c'>#&gt; $ Marijuana        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, NA, Y…</span></span>
<span class='c'>#&gt; $ AgeFirstMarij    <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 17, 17, 17, NA, 18, NA, NA, 13, 13, 13, NA, 19, 15, …</span></span>
<span class='c'>#&gt; $ RegularMarij     <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> No, No, No, NA, No, NA, NA, No, No, No, NA, Yes, Yes…</span></span>
<span class='c'>#&gt; $ AgeRegMarij      <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20, 15, …</span></span>
<span class='c'>#&gt; $ HardDrugs        <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, No, No, No, No, Yes,…</span></span>
<span class='c'>#&gt; $ SexEver          <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Yes, Yes, Yes, NA, Yes, NA, NA, Yes, Yes, Yes, Yes, …</span></span>
<span class='c'>#&gt; $ SexAge           <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 16, 16, 16, NA, 12, NA, NA, 13, 13, 13, 17, 22, 12, …</span></span>
<span class='c'>#&gt; $ SexNumPartnLife  <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 8, 8, 8, NA, 10, NA, NA, 20, 20, 20, 15, 7, 100, NA,…</span></span>
<span class='c'>#&gt; $ SexNumPartYear   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 1, 1, 1, NA, 1, NA, NA, 0, 0, 0, NA, 1, 1, NA, NA, 1…</span></span>
<span class='c'>#&gt; $ SameSex          <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> No, No, No, NA, Yes, NA, NA, Yes, Yes, Yes, No, No, …</span></span>
<span class='c'>#&gt; $ SexOrientation   <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> Heterosexual, Heterosexual, Heterosexual, NA, Hetero…</span></span>
<span class='c'>#&gt; $ PregnantNow      <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
</code></pre>
</div>
<p>To try out merging/joining, we&rsquo;ll create two separate data frames by pulling out some variables from this NHANES dataset. One will contain demographic variables, and the other with have some physical measurements. Then we&rsquo;ll join them back together. Let&rsquo;s create the two sub-datasets first&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#Filter out rows with data from 2009-2010 and Age &gt; 5, </span>
<span class='c'>#select a subset (4) of the variables, then get rid of </span>
<span class='c'>#all duplicate rows. Assign the output to object 'dem_data'.</span>
<span class='nv'>dem_data</span> <span class='o'>&lt;-</span> <span class='nv'>NHANES</span> <span class='o'>%&gt;%</span> 
            <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>SurveyYr</span> <span class='o'>==</span> <span class='s'>"2009_10"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
            <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>Age</span> <span class='o'>&gt;</span> <span class='m'>5</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
            <span class='nf'>select</span><span class='o'>(</span><span class='nv'>ID</span>, <span class='nv'>Gender</span>, <span class='nv'>Age</span>, <span class='nv'>Education</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
            <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span>

<span class='c'>#similar as above, but with a different filter and </span>
<span class='c'>#selecting different variables. Save as 'phys_data'</span>
<span class='nv'>phys_data</span> <span class='o'>&lt;-</span> <span class='nv'>NHANES</span> <span class='o'>%&gt;%</span> 
             <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>SurveyYr</span> <span class='o'>==</span> <span class='s'>"2009_10"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
             <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>Height</span> <span class='o'>&lt;</span> <span class='m'>180</span><span class='o'>)</span>  <span class='o'>%&gt;%</span>
             <span class='nf'>select</span><span class='o'>(</span><span class='nv'>ID</span>, <span class='nv'>Height</span>, <span class='nv'>BMI</span>, <span class='nv'>Pulse</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
             <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span>
</code></pre>
</div>
<p>Now explore them a bit&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#view the first 6 rows of each - note the shared ID column</span>
<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>dem_data</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 4</span></span>
<span class='c'>#&gt;      ID Gender   Age Education   </span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>       </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624 male      34 High School </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>630 female    49 Some College</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>638 male       9 </span><span style='color: #BB0000;'>NA</span><span>          </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>646 male       8 </span><span style='color: #BB0000;'>NA</span><span>          </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>647 female    45 College Grad</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>654 male      66 Some College</span></span>

<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>phys_data</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 4</span></span>
<span class='c'>#&gt;      ID Height   BMI Pulse</span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624   165.  32.2    70</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>625   105.  15.3    </span><span style='color: #BB0000;'>NA</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>630   168.  30.6    86</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>638   133.  16.8    82</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>646   131.  20.6    72</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>647   167.  27.2    62</span></span>

<span class='c'>#preview in another way - note the different numbers of observations (rows)</span>
<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>dem_data</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 3,217</span>
<span class='c'>#&gt; Columns: 4</span>
<span class='c'>#&gt; $ ID        <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 51624, 51630, 51638, 51646, 51647, 51654, 51656, 51657, 516…</span></span>
<span class='c'>#&gt; $ Gender    <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> male, female, male, male, female, male, male, male, female,…</span></span>
<span class='c'>#&gt; $ Age       <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 34, 49, 9, 8, 45, 66, 58, 54, 10, 58, 50, 9, 33, 60, 16, 56…</span></span>
<span class='c'>#&gt; $ Education <span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> High School, Some College, NA, NA, College Grad, Some Colle…</span></span>

<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>phys_data</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 3,021</span>
<span class='c'>#&gt; Columns: 4</span>
<span class='c'>#&gt; $ ID     <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 51624, 51625, 51630, 51638, 51646, 51647, 51654, 51657, 51659,…</span></span>
<span class='c'>#&gt; $ Height <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 164.7, 105.4, 168.4, 133.1, 130.6, 166.7, 169.5, 169.4, 141.8,…</span></span>
<span class='c'>#&gt; $ BMI    <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 32.22, 15.30, 30.57, 16.82, 20.64, 27.24, 23.67, 26.03, 19.20,…</span></span>
<span class='c'>#&gt; $ Pulse  <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> 70, NA, 86, 82, 72, 62, 60, 76, 80, 94, 74, 92, 84, 76, 64, 70…</span></span>
</code></pre>
</div>
<p>Let&rsquo;s use the shared ID column to join the two datasets together. We&rsquo;ll do this in 4 different ways to compare different types of joins: <code>inner_join()</code>, <code>left_join()</code>, <code>right_join()</code>, and <code>full_join()</code>. <strong>Pay attention to the number of rows in the joined dataset each time and how it relates to the number of rows in each of the two individual datasets</strong>.</p>
<p>The basic structure of the dplyr <code>*_join()</code> functions is&hellip;</p>
<p><code>*_join(dataframe 'x', dataframe 'y', by = shared column name)</code></p>
<br>
<hr>
<h3 id="1---inner_join">1 - <code>inner_join()</code></h3>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#perform an inner join</span>
<span class='nv'>join_inner</span> <span class='o'>&lt;-</span> <span class='nf'>inner_join</span><span class='o'>(</span><span class='nv'>dem_data</span>, <span class='nv'>phys_data</span>, by <span class='o'>=</span> <span class='s'>"ID"</span><span class='o'>)</span>

<span class='c'>#preview the new object</span>
<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>join_inner</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 7</span></span>
<span class='c'>#&gt;      ID Gender   Age Education    Height   BMI Pulse</span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624 male      34 High School    165.  32.2    70</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>630 female    49 Some College   168.  30.6    86</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>638 male       9 </span><span style='color: #BB0000;'>NA</span><span>             133.  16.8    82</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>646 male       8 </span><span style='color: #BB0000;'>NA</span><span>             131.  20.6    72</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>647 female    45 College Grad   167.  27.2    62</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>654 male      66 Some College   170.  23.7    60</span></span>

<span class='c'>#get dimensions</span>
<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>join_inner</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 2806    7</span>
</code></pre>
</div>
<h3 id="2---left_join">2 - <code>left_join()</code></h3>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#perform an left join</span>
<span class='nv'>join_left</span> <span class='o'>&lt;-</span> <span class='nf'>left_join</span><span class='o'>(</span><span class='nv'>dem_data</span>, <span class='nv'>phys_data</span>, by <span class='o'>=</span> <span class='s'>"ID"</span><span class='o'>)</span>

<span class='c'>#preview the new object</span>
<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>join_left</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 7</span></span>
<span class='c'>#&gt;      ID Gender   Age Education    Height   BMI Pulse</span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624 male      34 High School    165.  32.2    70</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>630 female    49 Some College   168.  30.6    86</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>638 male       9 </span><span style='color: #BB0000;'>NA</span><span>             133.  16.8    82</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>646 male       8 </span><span style='color: #BB0000;'>NA</span><span>             131.  20.6    72</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>647 female    45 College Grad   167.  27.2    62</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>654 male      66 Some College   170.  23.7    60</span></span>

<span class='c'>#get dimensions</span>
<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>join_left</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 3217    7</span>
</code></pre>
</div>
<h3 id="3---right_join">3 - <code>right_join()</code></h3>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#perform an right join</span>
<span class='nv'>join_right</span> <span class='o'>&lt;-</span> <span class='nf'>right_join</span><span class='o'>(</span><span class='nv'>dem_data</span>, <span class='nv'>phys_data</span>, by <span class='o'>=</span> <span class='s'>"ID"</span><span class='o'>)</span>

<span class='c'>#preview the new object</span>
<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>join_right</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 7</span></span>
<span class='c'>#&gt;      ID Gender   Age Education    Height   BMI Pulse</span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624 male      34 High School    165.  32.2    70</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>630 female    49 Some College   168.  30.6    86</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>638 male       9 </span><span style='color: #BB0000;'>NA</span><span>             133.  16.8    82</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>646 male       8 </span><span style='color: #BB0000;'>NA</span><span>             131.  20.6    72</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>647 female    45 College Grad   167.  27.2    62</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>654 male      66 Some College   170.  23.7    60</span></span>

<span class='c'>#get dimensions</span>
<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>join_right</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 3021    7</span>
</code></pre>
</div>
<h3 id="4---full_join">4 - <code>full_join()</code></h3>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#perform an full join</span>
<span class='nv'>join_full</span> <span class='o'>&lt;-</span> <span class='nf'>full_join</span><span class='o'>(</span><span class='nv'>dem_data</span>, <span class='nv'>phys_data</span>, by <span class='o'>=</span> <span class='s'>"ID"</span><span class='o'>)</span>

<span class='c'>#preview the new object</span>
<span class='nf'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='o'>(</span><span class='nv'>join_full</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 7</span></span>
<span class='c'>#&gt;      ID Gender   Age Education    Height   BMI Pulse</span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> </span><span style='text-decoration: underline;'>51</span><span>624 male      34 High School    165.  32.2    70</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> </span><span style='text-decoration: underline;'>51</span><span>630 female    49 Some College   168.  30.6    86</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> </span><span style='text-decoration: underline;'>51</span><span>638 male       9 </span><span style='color: #BB0000;'>NA</span><span>             133.  16.8    82</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> </span><span style='text-decoration: underline;'>51</span><span>646 male       8 </span><span style='color: #BB0000;'>NA</span><span>             131.  20.6    72</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> </span><span style='text-decoration: underline;'>51</span><span>647 female    45 College Grad   167.  27.2    62</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='text-decoration: underline;'>51</span><span>654 male      66 Some College   170.  23.7    60</span></span>

<span class='c'>#get dimensions</span>
<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>join_full</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 3432    7</span>
</code></pre>
</div>
<br>
<hr>
<h2 id="breakout-rooms">Breakout rooms</h2>
<p>We&rsquo;re going to add to our backyard birds dataset. I found a dataset that has life history data for a large number of species (birds and others). We&rsquo;ll use species names to merge some of these life history variables in to the occurrence data we already have.</p>
<p>If you&rsquo;re new and haven&rsquo;t yet gotten the backyard bird dataset, get it first by running the code below. Otherwise, you can skip this step&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># create a directory called data that contains a subdirectory called birds</span>
<span class='nf'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='o'>(</span><span class='s'>'data/birds/'</span>, recursive <span class='o'>=</span> <span class='kc'>TRUE</span><span class='o'>)</span>

<span class='c'># set the location of the file</span>
<span class='nv'>birds_file_url</span> <span class='o'>&lt;-</span>
<span class='s'>'https://raw.githubusercontent.com/biodash/biodash.github.io/master/assets/data/birds/backyard-birds_Ohio.tsv'</span>

<span class='c'># set the path for the downloaded file</span>
<span class='nv'>birds_file</span> <span class='o'>&lt;-</span> <span class='s'>'data/birds/backyard-birds_Ohio.tsv'</span>
<span class='c'>#download</span>
<span class='nf'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='o'>(</span>url <span class='o'>=</span> <span class='nv'>birds_file_url</span>, destfile <span class='o'>=</span> <span class='nv'>birds_file</span><span class='o'>)</span>
</code></pre>
</div>
<p>Now <strong>(everybody)</strong>, read in the bird data for this session&hellip;</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>birds_file</span> <span class='o'>&lt;-</span> <span class='s'>'data/birds/backyard-birds_Ohio.tsv'</span>
<span class='nv'>birds</span> <span class='o'>&lt;-</span> <span class='nf'>read_tsv</span><span class='o'>(</span><span class='nv'>birds_file</span><span class='o'>)</span>

<span class='c'>#&gt; Parsed with column specification:</span>
<span class='c'>#&gt; cols(</span>
<span class='c'>#&gt;   class = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   order = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   family = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   genus = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   species = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   locality = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   stateProvince = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   decimalLatitude = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   decimalLongitude = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   eventDate = <span style='color: #0000BB;'>col_datetime(format = "")</span><span>,</span></span>
<span class='c'>#&gt;   species_en = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   range = <span style='color: #BB0000;'>col_character()</span></span>
<span class='c'>#&gt; )</span>
</code></pre>
</div>
<h3 id="exercise-1">Exercise 1</h3>
<div class="alert puzzle">
<div>
<p>Reduce the backyard bird dataset and keep just the following columns: <strong>species, locality, stateProvince, eventDate, species_en</strong></p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use <code>select()</code> to pull out the columns you want. <br></p>
</details>
<details>
<summary>
Solution (click here)
</summary>
<br>
<pre><code>birds &lt;- birds %&gt;% select(species, locality, stateProvince, eventDate, species_en)
</code></pre>
</details>
</div>
</div>
<hr>
<h3 id="exercise-2">Exercise 2</h3>
<div class="alert puzzle">
<div>
<p>Check to make sure things look right - how many columns does the birds dataset now have?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use the <code>dim()</code> function. Or the <code>ncol()</code> function. Or <code>glimpse()</code>. Or <code>head()</code>. Or <code>str()</code>. Or even <code>summary()</code>. There&rsquo;s lots of ways to do this. <br></p>
</details>
<details>
<summary>
Solution (click here)
</summary>
<br>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>birds</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 311441     5</span>
</code></pre>
</div>
</details>
</div>
</div>
<hr>
<h3 id="exercise-3">Exercise 3</h3>
<div class="alert puzzle">
<div>
<p>Now download and read in the new life history dataset (tab separated) available at <a href="https://github.com/biodash/biodash.github.io/raw/master/assets/data/birds/esa_life_history_data_cc.tsv">https://github.com/biodash/biodash.github.io/raw/master/assets/data/birds/esa_life_history_data_cc.tsv</a>. Then explore it a bit - how many rows and columns are there?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use the <code>download.file()</code> function like we did previously for the bird dataset. You&rsquo;ll need to define the arguments &lsquo;url&rsquo; and &lsquo;destfile&rsquo; inside the parentheses. You can put the file anywhere you want, but I&rsquo;d suggest in the same directory as the bird file we got, so, for example, the destination file could be &ldquo;data/birds/life_history_data.tsv&rdquo;. <br></p>
</details>
<details>
<summary>
Solution (click here)
</summary>
<br>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#download the file from online and save it as a '.tsv' file (since it's tab delimited)</span>
<span class='nf'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='o'>(</span>url <span class='o'>=</span> <span class='s'>"https://github.com/biodash/biodash.github.io/raw/master/assets/data/birds/esa_life_history_data_cc.tsv"</span>,
destfile <span class='o'>=</span> <span class='s'>"data/birds/life_history_data.tsv"</span><span class='o'>)</span>

<span class='c'>#read the data in to R as an object named 'life_hist'</span>
<span class='nv'>life_hist</span> <span class='o'>&lt;-</span> <span class='nf'>read_tsv</span><span class='o'>(</span>file <span class='o'>=</span> <span class='s'>"data/birds/life_history_data.tsv"</span><span class='o'>)</span>

<span class='c'>#&gt; Parsed with column specification:</span>
<span class='c'>#&gt; cols(</span>
<span class='c'>#&gt;   class = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   order = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   family = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   genus = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   species = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   common_name = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   female_maturity_d = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   litter_or_clutch_size_n = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   litters_or_clutches_per_y = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   adult_body_mass_g = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   maximum_longevity_y = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   egg_mass_g = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   incubation_d = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   fledging_age_d = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   longevity_y = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   adult_svl_cm = <span style='color: #00BB00;'>col_double()</span></span>
<span class='c'>#&gt; )</span>


<span class='c'>#preview the data</span>
<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>life_hist</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 21,322</span>
<span class='c'>#&gt; Columns: 16</span>
<span class='c'>#&gt; $ class                     <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Aves", "Aves", "Aves", "Aves", "Aves", "Av…</span></span>
<span class='c'>#&gt; $ order                     <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipitriformes", "Accipitriformes", "Acci…</span></span>
<span class='c'>#&gt; $ family                    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipitridae", "Accipitridae", "Accipitrid…</span></span>
<span class='c'>#&gt; $ genus                     <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipiter", "Accipiter", "Accipiter", "Acc…</span></span>
<span class='c'>#&gt; $ species                   <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipiter albogularis", "Accipiter badius"…</span></span>
<span class='c'>#&gt; $ common_name               <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Pied Goshawk", "Shikra", "Bicolored Hawk",…</span></span>
<span class='c'>#&gt; $ female_maturity_d         <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 363.468, NA, NA, 363.468, NA, NA, 547.8…</span></span>
<span class='c'>#&gt; $ litter_or_clutch_size_n   <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 3.250, 2.700, NA, 4.000, NA, 2.700, 4.2…</span></span>
<span class='c'>#&gt; $ litters_or_clutches_per_y <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 1, NA, NA, 1, NA, NA, 1, NA, 1, NA, 1, …</span></span>
<span class='c'>#&gt; $ adult_body_mass_g         <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 251.500, 140.000, 345.000, 142.000, 203.500…</span></span>
<span class='c'>#&gt; $ maximum_longevity_y       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 19.90000, NA, 2…</span></span>
<span class='c'>#&gt; $ egg_mass_g                <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 21.00, 32.00, NA, 21.85, NA, 32.00, 19.…</span></span>
<span class='c'>#&gt; $ incubation_d              <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 30.00, NA, NA, 32.50, NA, NA, 33.00, NA…</span></span>
<span class='c'>#&gt; $ fledging_age_d            <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 32.00, NA, NA, 42.50, NA, NA, 24.25, NA…</span></span>
<span class='c'>#&gt; $ longevity_y               <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 12.58333, NA, 1…</span></span>
<span class='c'>#&gt; $ adult_svl_cm              <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 30.00, 39.50, NA, 33.50, NA, 39.50, 29.…</span></span>
</code></pre>
</div>
</details>
</div>
</div>
<hr>
<h3 id="exercise-4">Exercise 4</h3>
<div class="alert puzzle">
<div>
<p>This new dataset contains life history data for more than just birds. What Classes of organisms are represented in the &lsquo;Class&rsquo; variable?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Try using a combination of the <code>select()</code> and <code>distinct()</code> functions to pull out the column you&rsquo;re interested in, and then to get the distinct values, respectively. <br></p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>life_hist</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='nv'>class</span><span class='o'>)</span> <span class='o'>%&gt;%</span> <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 3 x 1</span></span>
<span class='c'>#&gt;   class   </span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> Aves    </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> Mammalia</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> Reptilia</span></span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-5">Exercise 5</h3>
<div class="alert puzzle">
<div>
<p>Reduce the life history dataset down to keep just the rows for Class <strong>Aves</strong> and the columns <strong>species, adult_body_mass_g, adult_svl_cm, longevity_y, litter_or_clutch_size_n</strong>. What are the dimensions now?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use <code>filter()</code> along with an appropriate logical expression to keep the rows we want. Use <code>select()</code> to get the desired columns. <br></p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'># pull out target rows and columns</span>
<span class='nv'>life_hist_aves</span> <span class='o'>&lt;-</span> <span class='nv'>life_hist</span> <span class='o'>%&gt;%</span> 
                  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>class</span> <span class='o'>==</span> <span class='s'>"Aves"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                  <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>adult_body_mass_g</span>, <span class='nv'>adult_svl_cm</span>, <span class='nv'>longevity_y</span>, <span class='nv'>litter_or_clutch_size_n</span><span class='o'>)</span>

<span class='nf'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='o'>(</span><span class='nv'>life_hist_aves</span><span class='o'>)</span>

<span class='c'>#&gt; [1] 9802    5</span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-6">Exercise 6</h3>
<div class="alert puzzle">
<div>
<p>Preview each dataset again, just to make sure you&rsquo;re clear about what&rsquo;s in each one. Are there any columns that are shared between the two?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Consider <code>glimpse()</code> or <code>head()</code> to preview the datasets (tibbles/data frames). If you want to use a function to find shared columns, try a combination of <code>intersect()</code> and <code>names().</code></p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>birds</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 311,441</span>
<span class='c'>#&gt; Columns: 12</span>
<span class='c'>#&gt; $ class            <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Aves", "Aves", "Aves", "Aves", "Aves", "Aves", "Ave…</span></span>
<span class='c'>#&gt; $ order            <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Passeriformes", "Passeriformes", "Passeriformes", "…</span></span>
<span class='c'>#&gt; $ family           <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Corvidae", "Corvidae", "Corvidae", "Corvidae", "Cor…</span></span>
<span class='c'>#&gt; $ genus            <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Cyanocitta", "Cyanocitta", "Cyanocitta", "Cyanocitt…</span></span>
<span class='c'>#&gt; $ species          <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Cyanocitta cristata", "Cyanocitta cristata", "Cyano…</span></span>
<span class='c'>#&gt; $ locality         <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "44805 Ashland", "45244 Cincinnati", "44132 Euclid",…</span></span>
<span class='c'>#&gt; $ stateProvince    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohi…</span></span>
<span class='c'>#&gt; $ decimalLatitude  <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 40.86166, 39.10666, 41.60768, 39.24236, 39.28207, 41…</span></span>
<span class='c'>#&gt; $ decimalLongitude <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> -82.31558, -84.32972, -81.50085, -84.35545, -84.4688…</span></span>
<span class='c'>#&gt; $ eventDate        <span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span> 2007-02-16, 2007-02-17, 2007-02-17, 2007-02-19, 200…</span></span>
<span class='c'>#&gt; $ species_en       <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Blue Jay", "Blue Jay", "Blue Jay", "Blue Jay", "Blu…</span></span>
<span class='c'>#&gt; $ range            <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>


<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>life_hist_aves</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 9,802</span>
<span class='c'>#&gt; Columns: 5</span>
<span class='c'>#&gt; $ species                 <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipiter albogularis", "Accipiter badius", …</span></span>
<span class='c'>#&gt; $ adult_body_mass_g       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 251.500, 140.000, 345.000, 142.000, 203.500, …</span></span>
<span class='c'>#&gt; $ adult_svl_cm            <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 30.00, 39.50, NA, 33.50, NA, 39.50, 29.00…</span></span>
<span class='c'>#&gt; $ longevity_y             <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 12.58333, NA, 12.…</span></span>
<span class='c'>#&gt; $ litter_or_clutch_size_n <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 3.250, 2.700, NA, 4.000, NA, 2.700, 4.250…</span></span>


<span class='nf'><a href='https://rdrr.io/r/base/sets.html'>intersect</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='o'>(</span><span class='nv'>birds</span><span class='o'>)</span>, <span class='nf'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='o'>(</span><span class='nv'>life_hist_aves</span><span class='o'>)</span><span class='o'>)</span>

<span class='c'>#&gt; [1] "species"</span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-7">Exercise 7</h3>
<div class="alert puzzle">
<div>
<p>Now lets join them together based on their shared variable. Not all species in the backyard bird (Ohio) dataset are included in the life history dataset. Likewise, there are life history data for many species that aren&rsquo;t in the Ohio dataset. We want to keep all the Ohio observations, and merge in life history data for species where it&rsquo;s availble, but we also don&rsquo;t want to add in life history data for species that aren&rsquo;t in the Ohio dataset. Choose an appropriate join function with those things in mind.</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Try a <code>left_join()</code>, defining the Ohio backyard bird dataset as the &lsquo;x&rsquo; dataset in the join and the life history data as the &lsquo;y&rsquo; dataset. Get details on that function with <code>?left_join</code>. <br></p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>joined_data</span> <span class='o'>&lt;-</span> <span class='nf'>left_join</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>birds</span>, y <span class='o'>=</span> <span class='nv'>life_hist_aves</span>, by <span class='o'>=</span> <span class='s'>"species"</span><span class='o'>)</span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="exercise-8">Exercise 8</h3>
<div class="alert puzzle">
<div>
<p>What are the longest- and shortest-living bird species in Ohio based on the data in the longevity_y column?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Try using <code>select()</code> to pull out just the columns species and longevity_y, then use <code>distinct()</code> to get the unique rows, then <code>arrange()</code> based on the longevity_y column. You might also find the dplyr function <code>desc()</code> helpful.</p>
<p>Alternatively, you could try grouping by species, then use <code>summarise()</code> to get either the max, min, or mean value for longevity_y for each species (there&rsquo;s just one value for each species, so all of those statistics give the same value in this case). Then sort (arrange) the resulting summarized data frame on the longevity value.</p>
<br>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#option 1 - shortest-lived birds</span>
<span class='nv'>joined_data</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>longevity_y</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>arrange</span><span class='o'>(</span><span class='nv'>longevity_y</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 171 x 2</span></span>
<span class='c'>#&gt;    species              longevity_y</span>
<span class='c'>#&gt;    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 1</span><span> Loxia leucoptera            4   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 2</span><span> Spiza americana             4   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 3</span><span> Certhia americana           4.6 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 4</span><span> Acanthis hornemanni         4.6 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 5</span><span> Tringa flavipes             4.75</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 6</span><span> Podiceps grisegena          4.8 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 7</span><span> Calcarius lapponicus        5   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 8</span><span> Anthus rubescens            5.1 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 9</span><span> Perdix perdix               5.17</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>10</span><span> Regulus satrapa             5.32</span></span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 161 more rows</span></span>


<span class='c'>#option 1 - longest-lived birds</span>
<span class='nv'>joined_data</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>longevity_y</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>arrange</span><span class='o'>(</span><span class='nf'>desc</span><span class='o'>(</span><span class='nv'>longevity_y</span><span class='o'>)</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 171 x 2</span></span>
<span class='c'>#&gt;    species                  longevity_y</span>
<span class='c'>#&gt;    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 1</span><span> Larus argentatus                33.4</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 2</span><span> Larus glaucoides                33  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 3</span><span> Larus thayeri                   33  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 4</span><span> Haliaeetus leucocephalus        33.0</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 5</span><span> Larus fuscus                    32.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 6</span><span> Aquila chrysaetos               32  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 7</span><span> Anas platyrhynchos              29  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 8</span><span> Larus delawarensis              28.6</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 9</span><span> Asio otus                       27.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>10</span><span> Cygnus olor                     27.7</span></span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 161 more rows</span></span>


<span class='c'>#option 2 - shortest-lived birds</span>
<span class='nv'>joined_data</span> <span class='o'>%&gt;%</span> <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>species</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>summarise</span><span class='o'>(</span>longevity <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='o'>(</span><span class='nv'>longevity_y</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>arrange</span><span class='o'>(</span><span class='nv'>longevity</span><span class='o'>)</span>

<span class='c'>#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 171 x 2</span></span>
<span class='c'>#&gt;    species              longevity</span>
<span class='c'>#&gt;    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 1</span><span> Loxia leucoptera          4   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 2</span><span> Spiza americana           4   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 3</span><span> Acanthis hornemanni       4.6 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 4</span><span> Certhia americana         4.6 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 5</span><span> Tringa flavipes           4.75</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 6</span><span> Podiceps grisegena        4.8 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 7</span><span> Calcarius lapponicus      5   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 8</span><span> Anthus rubescens          5.1 </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 9</span><span> Perdix perdix             5.17</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>10</span><span> Regulus satrapa           5.32</span></span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 161 more rows</span></span>

    
<span class='c'>#option 2 - longest-lived birds</span>
<span class='nv'>joined_data</span> <span class='o'>%&gt;%</span> <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>species</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>summarise</span><span class='o'>(</span>longevity <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='o'>(</span><span class='nv'>longevity_y</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>arrange</span><span class='o'>(</span><span class='nf'>desc</span><span class='o'>(</span><span class='nv'>longevity</span><span class='o'>)</span><span class='o'>)</span>

<span class='c'>#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 171 x 2</span></span>
<span class='c'>#&gt;    species                  longevity</span>
<span class='c'>#&gt;    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                        </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 1</span><span> Larus argentatus              33.4</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 2</span><span> Larus glaucoides              33  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 3</span><span> Larus thayeri                 33  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 4</span><span> Haliaeetus leucocephalus      33.0</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 5</span><span> Larus fuscus                  32.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 6</span><span> Aquila chrysaetos             32  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 7</span><span> Anas platyrhynchos            29  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 8</span><span> Larus delawarensis            28.6</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 9</span><span> Asio otus                     27.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>10</span><span> Cygnus olor                   27.7</span></span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 161 more rows</span></span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h2 id="bonus-time">Bonus time!</h2>
<h3 id="bonus-1">Bonus 1</h3>
<div class="alert puzzle">
<div>
<p>What species in Ohio has the largest ratio of adult body mass to length (measured as snout vent length, or &lsquo;adult_svl_cm&rsquo;)?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use <code>mutate()</code> to create a new variable containing the body mass divided by svl, then arrange the dataset using that new variable to get the species with the highest value.</p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nv'>joined_data</span> <span class='o'>%&gt;%</span> <span class='nf'>mutate</span><span class='o'>(</span>ratio <span class='o'>=</span> <span class='nv'>adult_body_mass_g</span><span class='o'>/</span><span class='nv'>adult_svl_cm</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species_en</span>, <span class='nv'>ratio</span><span class='o'>)</span> <span class='o'>%&gt;%</span> <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                <span class='nf'>arrange</span><span class='o'>(</span><span class='nf'>desc</span><span class='o'>(</span><span class='nv'>ratio</span><span class='o'>)</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 170 x 2</span></span>
<span class='c'>#&gt;    species_en     ratio</span>
<span class='c'>#&gt;    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 1</span><span> Mute Swan       71.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 2</span><span> Wild Turkey     68.0</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 3</span><span> Trumpeter Swan  64.9</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 4</span><span> Bald Eagle      59.2</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 5</span><span> Golden Eagle    56.2</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 6</span><span> Canada Goose    48.3</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 7</span><span> Tundra Swan     47.0</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 8</span><span> Cackling Goose  44.4</span></span>
<span class='c'>#&gt; <span style='color: #555555;'> 9</span><span> Snow Goose      35.1</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>10</span><span> Snowy Owl       32.8</span></span>
<span class='c'>#&gt; <span style='color: #555555;'># … with 160 more rows</span></span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<h3 id="bonus-2">Bonus 2</h3>
<div class="alert puzzle">
<div>
<p>There are 2 additional joins we haven&rsquo;t talked about - semi_join() and anti_join(). Take a look at the documentation to see what these do. Use one of them to find what species in the backyard birds dataset are not in the life history dataset.</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Use <code>anti_join()</code> and <code>distinct()</code>.</p>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='nf'>anti_join</span><span class='o'>(</span><span class='nv'>birds</span>, <span class='nv'>life_hist_aves</span>, by <span class='o'>=</span> <span class='s'>"species"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>species_en</span><span class='o'>)</span> <span class='o'>%&gt;%</span>
                                                     <span class='nf'>distinct</span><span class='o'>(</span><span class='o'>)</span>

<span class='c'>#&gt; <span style='color: #555555;'># A tibble: 6 x 2</span></span>
<span class='c'>#&gt;   species                       species_en           </span>
<span class='c'>#&gt;   <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                         </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>1</span><span> Dendrocopos pubescens         Downy Woodpecker     </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>2</span><span> Spizelloides arborea          American Tree Sparrow</span></span>
<span class='c'>#&gt; <span style='color: #555555;'>3</span><span> Otus asio                     Eastern Screech Owl  </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>4</span><span> Larus minutus                 Little Gull          </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>5</span><span> Anas rubripes x platyrhynchos </span><span style='color: #BB0000;'>NA</span><span>                   </span></span>
<span class='c'>#&gt; <span style='color: #555555;'>6</span><span> </span><span style='color: #BB0000;'>NA</span><span>                            </span><span style='color: #BB0000;'>NA</span></span>
</code></pre>
</div>
</details>
</div>
</div>
<hr>
<h3 id="bonus-3">Bonus 3</h3>
<div class="alert puzzle">
<div>
<p>The life history dataset we downloaded above is actually a modified version of the original file, which is located at &lsquo;<a href="http://www.esapubs.org/archive/ecol/E096/269/Data_Files/Amniote_Database_Aug_2015.csv">http://www.esapubs.org/archive/ecol/E096/269/Data_Files/Amniote_Database_Aug_2015.csv</a>&rsquo;</p>
<p>Try starting with the original file and repeating what we did above - merging the variables <strong>species, adult_body_mass_g, adult_svl_cm, longevity_y, litter_or_clutch_size_n</strong> in to the original birds dataset. First, make sure to get it read in correctly. Then pay attention to the species column in the life history dataset - what needs to be done before a join/merge can be performed?</p>
<details>
<summary>
Hints (click here)
</summary>
<p>Pay attention to how missing data are coded in this dataset (it&rsquo;s -999). Also, data are very sparse for some of the variables - in other words, they have lots of missing data. This seems to cause a problem with the <code>read_csv()</code> function, as it only considers the first 1000 rows for the purpose of defining the class of each column. This can be a problem if all of the first 1000 rows are missing. Finally, it appears that even though this is a comma separated file (commas define the column breaks), there are a few instances where commas are used within a field. This happens in the &lsquo;common name&rsquo; column in a few cases where multiple common names are listed for a specific observation. This is one example of something that can become quite frustrating when trying to get data loaded in, and is worth keeping an eye out for. Fortunately, in our case, it only seems to happen for non-bird species in this dataset, which we filter out anyway, so it can be dealt with. However, if it had impacted any of the bird observations, I think fixing this might require a solution outside of R - possibly a command line approach.</p>
<br>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span class='c'>#download</span>
<span class='nf'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='o'>(</span>url <span class='o'>=</span> <span class='s'>"http://www.esapubs.org/archive/ecol/E096/269/Data_Files/Amniote_Database_Aug_2015.csv"</span>, 
destfile <span class='o'>=</span> <span class='s'>"data/birds/orig_life_history.csv"</span><span class='o'>)</span>

<span class='c'>#read the data in to R as an object named 'full_life_hist'</span>

<span class='nv'>full_life_hist</span> <span class='o'>&lt;-</span> <span class='nf'>read_csv</span><span class='o'>(</span><span class='s'>"data/birds/orig_life_history.csv"</span>, 
                  na <span class='o'>=</span> <span class='s'>"-999"</span>, 
                  col_types <span class='o'>=</span> <span class='nf'>cols</span><span class='o'>(</span>birth_or_hatching_svl_cm <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>,
                  weaning_d <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>,gestation_d <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>, 
                  weaning_weight_g <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>, 
                  male_svl_cm <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>, 
                  female_svl_cm <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>,
                  no_sex_svl_cm <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>, 
                  female_body_mass_at_maturity_g <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span>,
                  female_svl_at_maturity_cm <span class='o'>=</span> <span class='nf'>col_double</span><span class='o'>(</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span>

<span class='c'>#get the original version of the birds dataset</span>
<span class='nv'>birds</span> <span class='o'>&lt;-</span> <span class='nf'>read_tsv</span><span class='o'>(</span><span class='s'>'data/birds/backyard-birds_Ohio.tsv'</span><span class='o'>)</span>

<span class='c'>#&gt; Parsed with column specification:</span>
<span class='c'>#&gt; cols(</span>
<span class='c'>#&gt;   class = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   order = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   family = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   genus = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   species = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   locality = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   stateProvince = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   decimalLatitude = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   decimalLongitude = <span style='color: #00BB00;'>col_double()</span><span>,</span></span>
<span class='c'>#&gt;   eventDate = <span style='color: #0000BB;'>col_datetime(format = "")</span><span>,</span></span>
<span class='c'>#&gt;   species_en = <span style='color: #BB0000;'>col_character()</span><span>,</span></span>
<span class='c'>#&gt;   range = <span style='color: #BB0000;'>col_character()</span></span>
<span class='c'>#&gt; )</span>


<span class='c'>#subset each for the columns and rows we want</span>
<span class='nv'>life_hist_aves</span> <span class='o'>&lt;-</span> <span class='nv'>full_life_hist</span> <span class='o'>%&gt;%</span> <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>class</span> <span class='o'>==</span> <span class='s'>"Aves"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                  <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>adult_body_mass_g</span>, <span class='nv'>adult_svl_cm</span>, <span class='nv'>longevity_y</span>, <span class='nv'>litter_or_clutch_size_n</span><span class='o'>)</span>

<span class='nv'>birds</span> <span class='o'>&lt;-</span> <span class='nv'>birds</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='nv'>species</span>, <span class='nv'>locality</span>, <span class='nv'>stateProvince</span>, <span class='nv'>eventDate</span>, <span class='nv'>species_en</span><span class='o'>)</span>

<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>birds</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 311,441</span>
<span class='c'>#&gt; Columns: 5</span>
<span class='c'>#&gt; $ species       <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Cyanocitta cristata", "Cyanocitta cristata", "Cyanocit…</span></span>
<span class='c'>#&gt; $ locality      <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "44805 Ashland", "45244 Cincinnati", "44132 Euclid", "4…</span></span>
<span class='c'>#&gt; $ stateProvince <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohio",…</span></span>
<span class='c'>#&gt; $ eventDate     <span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span> 2007-02-16, 2007-02-17, 2007-02-17, 2007-02-19, 2007-0…</span></span>
<span class='c'>#&gt; $ species_en    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Blue Jay", "Blue Jay", "Blue Jay", "Blue Jay", "Blue J…</span></span>


<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>life_hist_aves</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 9,802</span>
<span class='c'>#&gt; Columns: 5</span>
<span class='c'>#&gt; $ species                 <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "albogularis", "badius", "bicolor", "brachyur…</span></span>
<span class='c'>#&gt; $ adult_body_mass_g       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 251.500, 140.000, 345.000, 142.000, 203.500, …</span></span>
<span class='c'>#&gt; $ adult_svl_cm            <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 30.00, 39.50, NA, 33.50, NA, 39.50, 29.00…</span></span>
<span class='c'>#&gt; $ longevity_y             <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 12.58333, NA, 12.…</span></span>
<span class='c'>#&gt; $ litter_or_clutch_size_n <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 3.250, 2.700, NA, 4.000, NA, 2.700, 4.250…</span></span>


<span class='c'>#notice the species column in the life history data doesn't include the genus name. Since the names don't match in the species column from each dataset, a join won't work. Add the genus variable in from the original life history data...</span>

<span class='nv'>life_hist_aves</span> <span class='o'>&lt;-</span> <span class='nv'>full_life_hist</span> <span class='o'>%&gt;%</span> <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>class</span> <span class='o'>==</span> <span class='s'>"Aves"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> 
                  <span class='nf'>select</span><span class='o'>(</span><span class='nv'>genus</span>, <span class='nv'>species</span>, <span class='nv'>adult_body_mass_g</span>, <span class='nv'>adult_svl_cm</span>, <span class='nv'>longevity_y</span>, <span class='nv'>litter_or_clutch_size_n</span><span class='o'>)</span>

<span class='c'>#now use mutate to replace the species column so it includes both the genus and species...</span>

<span class='nv'>life_hist_aves</span> <span class='o'>&lt;-</span> <span class='nv'>life_hist_aves</span> <span class='o'>%&gt;%</span> <span class='nf'>mutate</span><span class='o'>(</span>species <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='o'>(</span><span class='nv'>genus</span>, <span class='s'>" "</span>, <span class='nv'>species</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> <span class='nf'>select</span><span class='o'>(</span><span class='o'>-</span><span class='nv'>genus</span><span class='o'>)</span>

<span class='c'>#preview again</span>
<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>birds</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 311,441</span>
<span class='c'>#&gt; Columns: 5</span>
<span class='c'>#&gt; $ species       <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Cyanocitta cristata", "Cyanocitta cristata", "Cyanocit…</span></span>
<span class='c'>#&gt; $ locality      <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "44805 Ashland", "45244 Cincinnati", "44132 Euclid", "4…</span></span>
<span class='c'>#&gt; $ stateProvince <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohio", "Ohio",…</span></span>
<span class='c'>#&gt; $ eventDate     <span style='color: #555555;font-style: italic;'>&lt;dttm&gt;</span><span> 2007-02-16, 2007-02-17, 2007-02-17, 2007-02-19, 2007-0…</span></span>
<span class='c'>#&gt; $ species_en    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Blue Jay", "Blue Jay", "Blue Jay", "Blue Jay", "Blue J…</span></span>

<span class='nf'>glimpse</span><span class='o'>(</span><span class='nv'>life_hist_aves</span><span class='o'>)</span>

<span class='c'>#&gt; Rows: 9,802</span>
<span class='c'>#&gt; Columns: 5</span>
<span class='c'>#&gt; $ species                 <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> "Accipiter albogularis", "Accipiter badius", …</span></span>
<span class='c'>#&gt; $ adult_body_mass_g       <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> 251.500, 140.000, 345.000, 142.000, 203.500, …</span></span>
<span class='c'>#&gt; $ adult_svl_cm            <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 30.00, 39.50, NA, 33.50, NA, 39.50, 29.00…</span></span>
<span class='c'>#&gt; $ longevity_y             <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, NA, NA, NA, NA, NA, NA, 12.58333, NA, 12.…</span></span>
<span class='c'>#&gt; $ litter_or_clutch_size_n <span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> NA, 3.250, 2.700, NA, 4.000, NA, 2.700, 4.250…</span></span>


<span class='c'>#now we can join</span>
<span class='nv'>joined_data</span> <span class='o'>&lt;-</span> <span class='nf'>left_join</span><span class='o'>(</span><span class='nv'>birds</span>, <span class='nv'>life_hist_aves</span>, by <span class='o'>=</span> <span class='s'>"species"</span><span class='o'>)</span>
</code></pre>
</div>
</details>
<br>
</div>
</div>
<hr>
<p><br> <br> <br> <br></p>

                    </div>

                    <br>

                    








<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://biodash.github.io/codeclub/03_joining-datasets/&amp;text=Session%203:%20Joining%20Datasets" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://biodash.github.io/codeclub/03_joining-datasets/&amp;t=Session%203:%20Joining%20Datasets" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Session%203:%20Joining%20Datasets&amp;body=https://biodash.github.io/codeclub/03_joining-datasets/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://biodash.github.io/codeclub/03_joining-datasets/&amp;title=Session%203:%20Joining%20Datasets" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Session%203:%20Joining%20Datasets%20https://biodash.github.io/codeclub/03_joining-datasets/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://biodash.github.io/codeclub/03_joining-datasets/&amp;title=Session%203:%20Joining%20Datasets" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="/authors/mike-sovic/"><img class="avatar mr-3 avatar-circle" src="/authors/mike-sovic/avatar_hu1ab2c0735ccc2e414b344a1bc08b8162_24652_270x270_fill_q90_lanczos_center.jpg" alt="Mike Sovic"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="/authors/mike-sovic/">Mike Sovic</a></h5>
      <h6 class="card-subtitle">Bioinformatician at CAPS</h6>
      
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:sovic.1@osu.edu" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/mikesovic" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.youtube.com/channel/UC2dB6jDTbqzlTM6edzfBSGQ" target="_blank" rel="noopener">
        <i class="fab fa-youtube"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  
















                    <br>

                    <hr class="separator">

                    <div class="clearfix">
                        
                        
                        <span class="previous-link">
                            <a href="https://biodash.github.io/codeclub/s03_joining-datasets/">← Session 3: Joining Datasets</a>
                        </span>
                        
                        
                        
                        
                        <span class="next-link">
                            <a href="https://biodash.github.io/codeclub/04_ggplot2/">Session 4: Visualizing Data →</a>
                        </span>
                        
                        
                    </div>

                    <hr class="separator">

                </div>

            </article>

            
        </main>
    </div>
</div>

  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">
    
    <p class="powered-by">
      <a href="/license/">LICENSE: CC-BY-SA <br> <i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i> </a><br>
    </p>
    
</footer>
    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
    
      <script async defer src="https://maps.googleapis.com/maps/api/js?key="></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.25/gmaps.min.js" integrity="sha256-7vjlAeb8OaTrCXZkCNun9djzuB2owUsaO72kXaFDBJs=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js"></script>

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
      
    
    <script src="/en/js/wowchemy.min.2f16af175a3ec51b41b36bb4934b1cf7.js"></script>

    






</body>
</html>
